
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;http&quot;,&quot;python&quot;,&quot;javascript&quot;,&quot;ruby&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="http">http</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="ruby">ruby</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#how-do-i-authenticate-with-the-zooniverse-api" class="toc-h2 toc-link" data-title="Authentication">How do I authenticate with the Zooniverse API?</a>
                  </li>
                  <li>
                    <a href="#tools-to-interact-with-the-api" class="toc-h2 toc-link" data-title="Authentication">Tools to interact with the API</a>
                  </li>
                  <li>
                    <a href="#example-using-postman" class="toc-h2 toc-link" data-title="Authentication">Example using Postman</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#json-api-conventions" class="toc-h1 toc-link" data-title="JSON-API conventions">JSON-API conventions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#resource-s-themselves" class="toc-h2 toc-link" data-title="JSON-API conventions">Resource(s) themselves</a>
                  </li>
                  <li>
                    <a href="#links" class="toc-h2 toc-link" data-title="JSON-API conventions">Links</a>
                  </li>
                  <li>
                    <a href="#pagination" class="toc-h2 toc-link" data-title="JSON-API conventions">Pagination</a>
                  </li>
                  <li>
                    <a href="#including-linked-resources" class="toc-h2 toc-link" data-title="JSON-API conventions">Including linked resources</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#headers" class="toc-h1 toc-link" data-title="Headers">Headers</a>
          </li>
          <li>
            <a href="#aggregations" class="toc-h1 toc-link" data-title="Aggregations">Aggregations</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-aggregations" class="toc-h2 toc-link" data-title="Aggregations">List aggregations</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-aggregation" class="toc-h2 toc-link" data-title="Aggregations">Retrieve a single Aggregation</a>
                  </li>
                  <li>
                    <a href="#create-an-aggregation-post" class="toc-h2 toc-link" data-title="Aggregations">Create an Aggregation [POST]</a>
                  </li>
                  <li>
                    <a href="#edit-a-single-aggregation-put" class="toc-h2 toc-link" data-title="Aggregations">Edit a single Aggregation [PUT]</a>
                  </li>
                  <li>
                    <a href="#destroy-a-single-aggregation-delete" class="toc-h2 toc-link" data-title="Aggregations">Destroy a single Aggregation [DELETE]</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#classifications" class="toc-h1 toc-link" data-title="Classifications">Classifications</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-classifications" class="toc-h2 toc-link" data-title="Classifications">List classifications</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-classification" class="toc-h2 toc-link" data-title="Classifications">Retrieve a single Classification</a>
                  </li>
                  <li>
                    <a href="#create-a-classification-post" class="toc-h2 toc-link" data-title="Classifications">Create a Classification [POST]</a>
                  </li>
                  <li>
                    <a href="#edit-a-single-classification-put" class="toc-h2 toc-link" data-title="Classifications">Edit a single Classification [PUT]</a>
                  </li>
                  <li>
                    <a href="#destroy-a-single-classification-delete" class="toc-h2 toc-link" data-title="Classifications">Destroy a single Classification [DELETE]</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#collection-preferences" class="toc-h1 toc-link" data-title="Collection preferences">Collection preferences</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-collection-preferences" class="toc-h2 toc-link" data-title="Collection preferences">List collection preferences</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-collectionpreference-get" class="toc-h2 toc-link" data-title="Collection preferences">Retrieve a single CollectionPreference [GET]</a>
                  </li>
                  <li>
                    <a href="#edit-a-collectionpreference-put" class="toc-h2 toc-link" data-title="Collection preferences">Edit a CollectionPreference [PUT]</a>
                  </li>
                  <li>
                    <a href="#create-a-collectionpreference-post" class="toc-h2 toc-link" data-title="Collection preferences">Create a CollectionPreference [POST]</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#collectionrole" class="toc-h1 toc-link" data-title="CollectionRole">CollectionRole</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#collection-role-types" class="toc-h2 toc-link" data-title="CollectionRole">Collection Role Types</a>
                  </li>
                  <li>
                    <a href="#list-all-collection-roles" class="toc-h2 toc-link" data-title="CollectionRole">List All Collection Roles</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-collectionrole" class="toc-h2 toc-link" data-title="CollectionRole">Retrieve a single CollectionRole</a>
                  </li>
                  <li>
                    <a href="#create-a-collectionrole" class="toc-h2 toc-link" data-title="CollectionRole">Create a CollectionRole</a>
                  </li>
                  <li>
                    <a href="#edit-a-collectionrole" class="toc-h2 toc-link" data-title="CollectionRole">Edit a CollectionRole</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#collections" class="toc-h1 toc-link" data-title="Collections">Collections</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-all-collections" class="toc-h2 toc-link" data-title="Collections">List all collections</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-collection" class="toc-h2 toc-link" data-title="Collections">Retrieve a single collection</a>
                  </li>
                  <li>
                    <a href="#create-a-collection" class="toc-h2 toc-link" data-title="Collections">Create a Collection</a>
                  </li>
                  <li>
                    <a href="#edit-a-collection" class="toc-h2 toc-link" data-title="Collections">Edit a Collection</a>
                  </li>
                  <li>
                    <a href="#destroy-a-collection" class="toc-h2 toc-link" data-title="Collections">Destroy a Collection</a>
                  </li>
                  <li>
                    <a href="#add-subject-links" class="toc-h2 toc-link" data-title="Collections">Add subject links</a>
                  </li>
                  <li>
                    <a href="#remove-subject-links" class="toc-h2 toc-link" data-title="Collections">Remove subject links</a>
                  </li>
                  <li>
                    <a href="#add-default-subject-link" class="toc-h2 toc-link" data-title="Collections">Add default subject link</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#memberships" class="toc-h1 toc-link" data-title="Memberships">Memberships</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-all-memberships" class="toc-h2 toc-link" data-title="Memberships">List All Memberships</a>
                  </li>
                  <li>
                    <a href="#retreive-a-membership" class="toc-h2 toc-link" data-title="Memberships">Retreive a Membership</a>
                  </li>
                  <li>
                    <a href="#create-a-membership" class="toc-h2 toc-link" data-title="Memberships">Create a Membership</a>
                  </li>
                  <li>
                    <a href="#edit-a-membership" class="toc-h2 toc-link" data-title="Memberships">Edit a Membership</a>
                  </li>
                  <li>
                    <a href="#destroy-a-membership" class="toc-h2 toc-link" data-title="Memberships">Destroy a Membership</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#organizations" class="toc-h1 toc-link" data-title="Organizations">Organizations</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-all-organizations" class="toc-h2 toc-link" data-title="Organizations">List All Organizations</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-organization" class="toc-h2 toc-link" data-title="Organizations">Retrieve a single Organization</a>
                  </li>
                  <li>
                    <a href="#create-a-organization" class="toc-h2 toc-link" data-title="Organizations">Create a Organization</a>
                  </li>
                  <li>
                    <a href="#edit-a-single-organization" class="toc-h2 toc-link" data-title="Organizations">Edit a single Organization</a>
                  </li>
                  <li>
                    <a href="#destroy-a-single-organization" class="toc-h2 toc-link" data-title="Organizations">Destroy a single Organization</a>
                  </li>
                  <li>
                    <a href="#add-organization-links" class="toc-h2 toc-link" data-title="Organizations">Add Organization Links</a>
                  </li>
                  <li>
                    <a href="#destroy-a-link" class="toc-h2 toc-link" data-title="Organizations">Destroy a Link</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#project-preferences" class="toc-h1 toc-link" data-title="Project Preferences">Project Preferences</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-all-projectpreferences" class="toc-h2 toc-link" data-title="Project Preferences">List all ProjectPreferences</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-projectpreference" class="toc-h2 toc-link" data-title="Project Preferences">Retrieve a single ProjectPreference</a>
                  </li>
                  <li>
                    <a href="#create-a-projectpreference" class="toc-h2 toc-link" data-title="Project Preferences">Create a ProjectPreference</a>
                  </li>
                  <li>
                    <a href="#edit-a-projectpreference" class="toc-h2 toc-link" data-title="Project Preferences">Edit a ProjectPreference</a>
                  </li>
                  <li>
                    <a href="#edit-projectpreferences-settings" class="toc-h2 toc-link" data-title="Project Preferences">Edit ProjectPreferences Settings</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#project-roles" class="toc-h1 toc-link" data-title="Project Roles">Project Roles</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-all-projectroles" class="toc-h2 toc-link" data-title="Project Roles">List all ProjectRoles</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-projectrole" class="toc-h2 toc-link" data-title="Project Roles">Retrieve a single ProjectRole</a>
                  </li>
                  <li>
                    <a href="#create-a-projectrole" class="toc-h2 toc-link" data-title="Project Roles">Create a ProjectRole</a>
                  </li>
                  <li>
                    <a href="#edit-a-projectrole" class="toc-h2 toc-link" data-title="Project Roles">Edit a ProjectRole</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#projects" class="toc-h1 toc-link" data-title="Projects">Projects</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#project-links" class="toc-h2 toc-link" data-title="Projects">Project Links</a>
                  </li>
                  <li>
                    <a href="#list-all-projects" class="toc-h2 toc-link" data-title="Projects">List All Projects</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-project" class="toc-h2 toc-link" data-title="Projects">Retrieve a single Project</a>
                  </li>
                  <li>
                    <a href="#create-a-project" class="toc-h2 toc-link" data-title="Projects">Create a Project</a>
                  </li>
                  <li>
                    <a href="#edit-a-single-project" class="toc-h2 toc-link" data-title="Projects">Edit a single Project</a>
                  </li>
                  <li>
                    <a href="#destroy-a-single-project" class="toc-h2 toc-link" data-title="Projects">Destroy a single Project</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#subjectsetimports" class="toc-h1 toc-link" data-title="SubjectSetImports">SubjectSetImports</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#feature-description" class="toc-h2 toc-link" data-title="SubjectSetImports">Feature Description</a>
                  </li>
                  <li>
                    <a href="#zooniverse-api-feature-description" class="toc-h2 toc-link" data-title="SubjectSetImports">Zooniverse API Feature Description</a>
                  </li>
                  <li>
                    <a href="#manifest-csv-format" class="toc-h2 toc-link" data-title="SubjectSetImports">Manifest CSV format</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#setmembersubjects" class="toc-h1 toc-link" data-title="SetMemberSubjects">SetMemberSubjects</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-all-setmembersubjects" class="toc-h2 toc-link" data-title="SetMemberSubjects">List all SetMemberSubjects</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-setmembersubject" class="toc-h2 toc-link" data-title="SetMemberSubjects">Retrieve a Single SetMemberSubject</a>
                  </li>
                  <li>
                    <a href="#create-a-setmembersubject" class="toc-h2 toc-link" data-title="SetMemberSubjects">Create a SetMemberSubject</a>
                  </li>
                  <li>
                    <a href="#edit-a-setmembersubject" class="toc-h2 toc-link" data-title="SetMemberSubjects">Edit a SetMemberSubject</a>
                  </li>
                  <li>
                    <a href="#destroy-a-setmembersubject" class="toc-h2 toc-link" data-title="SetMemberSubjects">Destroy a SetMemberSubject</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#subjectsets" class="toc-h1 toc-link" data-title="SubjectSets">SubjectSets</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-all-subject-sets" class="toc-h2 toc-link" data-title="SubjectSets">List all Subject Sets</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-subject-set" class="toc-h2 toc-link" data-title="SubjectSets">Retrieve a single Subject Set</a>
                  </li>
                  <li>
                    <a href="#create-a-subject-set" class="toc-h2 toc-link" data-title="SubjectSets">Create a Subject Set</a>
                  </li>
                  <li>
                    <a href="#edit-a-single-subject-set" class="toc-h2 toc-link" data-title="SubjectSets">Edit a single Subject Set</a>
                  </li>
                  <li>
                    <a href="#destroy-a-subject-set" class="toc-h2 toc-link" data-title="SubjectSets">Destroy a Subject Set</a>
                  </li>
                  <li>
                    <a href="#subject-set-links" class="toc-h2 toc-link" data-title="SubjectSets">Subject Set Links</a>
                  </li>
                  <li>
                    <a href="#add-subject-set-link" class="toc-h2 toc-link" data-title="SubjectSets">Add Subject Set Link</a>
                  </li>
                  <li>
                    <a href="#destroy-subject-set-links" class="toc-h2 toc-link" data-title="SubjectSets">Destroy Subject Set Links</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#subjectworkflowstatuses" class="toc-h1 toc-link" data-title="SubjectWorkflowStatuses">SubjectWorkflowStatuses</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-all-subjectworkflowstatuses" class="toc-h2 toc-link" data-title="SubjectWorkflowStatuses">List all SubjectWorkflowStatuses</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-subjectworkflowstatus" class="toc-h2 toc-link" data-title="SubjectWorkflowStatuses">Retrieve a single SubjectWorkflowStatus</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#subjects" class="toc-h1 toc-link" data-title="Subjects">Subjects</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-subjects" class="toc-h2 toc-link" data-title="Subjects">List Subjects</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-subject" class="toc-h2 toc-link" data-title="Subjects">Retrieve a single Subject</a>
                  </li>
                  <li>
                    <a href="#create-a-subject" class="toc-h2 toc-link" data-title="Subjects">Create a Subject</a>
                  </li>
                  <li>
                    <a href="#edit-a-single-subject" class="toc-h2 toc-link" data-title="Subjects">Edit a single Subject</a>
                  </li>
                  <li>
                    <a href="#destroy-a-single-subject" class="toc-h2 toc-link" data-title="Subjects">Destroy a single subject</a>
                  </li>
                  <li>
                    <a href="#subject-versions" class="toc-h2 toc-link" data-title="Subjects">Subject Versions</a>
                  </li>
                  <li>
                    <a href="#list-all-subject-versions" class="toc-h2 toc-link" data-title="Subjects">List all Subject Versions</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-subject-version" class="toc-h2 toc-link" data-title="Subjects">Retrieve a Single Subject Version</a>
                  </li>
                  <li>
                    <a href="#retrieve-subjects-to-classify" class="toc-h2 toc-link" data-title="Subjects">Retrieve subjects to classify</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#usergroups" class="toc-h1 toc-link" data-title="UserGroups">UserGroups</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#stats-visibility-levels" class="toc-h2 toc-link" data-title="UserGroups">Stats Visibility Levels</a>
                  </li>
                  <li>
                    <a href="#list-all-user-groups" class="toc-h2 toc-link" data-title="UserGroups">List all User Groups</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-user-group" class="toc-h2 toc-link" data-title="UserGroups">Retrieve a single User Group</a>
                  </li>
                  <li>
                    <a href="#create-a-user-group" class="toc-h2 toc-link" data-title="UserGroups">Create a User Group</a>
                  </li>
                  <li>
                    <a href="#edit-a-single-user-group" class="toc-h2 toc-link" data-title="UserGroups">Edit a single User Group</a>
                  </li>
                  <li>
                    <a href="#destroy-a-user-group" class="toc-h2 toc-link" data-title="UserGroups">Destroy a User Group</a>
                  </li>
                  <li>
                    <a href="#add-user-links" class="toc-h2 toc-link" data-title="UserGroups">Add user links</a>
                  </li>
                  <li>
                    <a href="#remove-links" class="toc-h2 toc-link" data-title="UserGroups">Remove links</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#users" class="toc-h1 toc-link" data-title="Users">Users</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#user-links" class="toc-h2 toc-link" data-title="Users">User Links</a>
                  </li>
                  <li>
                    <a href="#list-users" class="toc-h2 toc-link" data-title="Users">List Users</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-user" class="toc-h2 toc-link" data-title="Users">Retrieve a single user</a>
                  </li>
                  <li>
                    <a href="#edit-a-single-user" class="toc-h2 toc-link" data-title="Users">Edit a single User</a>
                  </li>
                  <li>
                    <a href="#destroy-a-single-user" class="toc-h2 toc-link" data-title="Users">Destroy a single User</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#workflows" class="toc-h1 toc-link" data-title="Workflows">Workflows</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-all-workflows" class="toc-h2 toc-link" data-title="Workflows">List All Workflows</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-workflow" class="toc-h2 toc-link" data-title="Workflows">Retrieve a single Workflow</a>
                  </li>
                  <li>
                    <a href="#create-a-workflow" class="toc-h2 toc-link" data-title="Workflows">Create a Workflow</a>
                  </li>
                  <li>
                    <a href="#edit-a-single-workflow" class="toc-h2 toc-link" data-title="Workflows">Edit a single workflow</a>
                  </li>
                  <li>
                    <a href="#destroy-a-single-workflow" class="toc-h2 toc-link" data-title="Workflows">Destroy a single workflow</a>
                  </li>
                  <li>
                    <a href="#link-subject-set-to-workflow" class="toc-h2 toc-link" data-title="Workflows">Link Subject Set to Workflow</a>
                  </li>
                  <li>
                    <a href="#destroy-workflow-39-s-subject-set-links" class="toc-h2 toc-link" data-title="Workflows">Destroy Workflow's Subject Set Links</a>
                  </li>
                  <li>
                    <a href="#workflow-versions" class="toc-h2 toc-link" data-title="Workflows">Workflow Versions</a>
                  </li>
                  <li>
                    <a href="#list-all-workflow-versions" class="toc-h2 toc-link" data-title="Workflows">List All Workflow Versions</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-version" class="toc-h2 toc-link" data-title="Workflows">Retrieve a Single Version</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#media-resources" class="toc-h1 toc-link" data-title="Media Resources">Media Resources</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#supported-mime-types-of-panoptes-media-records" class="toc-h2 toc-link" data-title="Media Resources">Supported Mime Types of Panoptes Media Records</a>
                  </li>
                  <li>
                    <a href="#panoptes-resources-to-media-resource-types" class="toc-h2 toc-link" data-title="Media Resources">Panoptes Resources to Media Resource Types</a>
                  </li>
                  <li>
                    <a href="#list-media-records" class="toc-h2 toc-link" data-title="Media Resources">List Media Records</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-single-media-record" class="toc-h2 toc-link" data-title="Media Resources">Retrieve a single Media Record</a>
                  </li>
                  <li>
                    <a href="#create-a-media-record-associated-with-a-panoptes-resource" class="toc-h2 toc-link" data-title="Media Resources">Create a Media Record Associated with a Panoptes Resource</a>
                  </li>
                  <li>
                    <a href="#destroy-a-single-media-record-associated-with-a-panoptes-resource" class="toc-h2 toc-link" data-title="Media Resources">Destroy a Single Media Record Associated with a Panoptes Resource</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/zooniverse/panoptes/tree/master/docs/source/'>Modify documentation</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Panoptes API is a <em>crowdsourcing system</em> based on serving <em>subjects</em>,
images or other media, to <em>volunteers</em> and asking them to <em>classify</em>
the <em>subject</em> based on a defined <em>workflow</em> for the <em>subject</em> type.</p>
<h1 id='authentication'>Authentication</h1>
<p>Panoptes API provides an OAuth 2.0 authentication mechanism. (TODO: Describe
Authentication Workflow).</p>
<h2 id='how-do-i-authenticate-with-the-zooniverse-api'>How do I authenticate with the Zooniverse API?</h2>
<p>Some requests to the Zooniverse API will respond without supplied authentication details as they are public but most require an authentication token to be supplied to access our systems as a known user.</p>

<p>This authentication token is known as a bearer token and is usually supplied as a HTTP <code>Authorization</code> header with the value prefixed by <code>Bearer</code> and then the token data. For example:</p>

<p><code>Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c</code></p>

<p>The bearer tokens we produce are actually <a href="https://jwt.io/">JWT tokens</a> in and of themselves. This means that if you have a bearer token, you can unpack it, verify that it was signed by our servers, and find your user ID, your permissions and some other things.</p>
<h2 id='tools-to-interact-with-the-api'>Tools to interact with the API</h2>
<p>You can use Postman, Paw, cURL or one of our official Zooniverse libraries to authenticate and create requests to the API:</p>

<ul>
<li>Python

<ul>
<li>https://github.com/zooniverse/panoptes-python-client</li>
</ul></li>
<li>JavaScript

<ul>
<li>https://github.com/zooniverse/panoptes-javascript-client</li>
</ul></li>
<li>Ruby

<ul>
<li>https://github.com/zooniverse/panoptes-client.rb</li>
</ul></li>
</ul>
<h2 id='example-using-postman'>Example using Postman</h2>
<p><a href="https://www.getpostman.com/">Postman</a> is a graphical tool to help you make API calls.</p>
<h3 id='how-do-you-get-a-token'>How do you get a token?</h3><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/oauth/token</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"grant_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YOUR_CLIENT_ID"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"client_secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YOUR_CLIENT_SECRET"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">panoptes_client</span> <span class="kn">import</span> <span class="n">Panoptes</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">Panoptes</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">''</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">''</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="o">.</span><span class="n">get_bearer_token</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span>
<span class="nb">require</span> <span class="s1">'panoptes-client'</span>
<span class="n">client</span> <span class="o">=</span> <span class="no">Panoptes</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">auth: </span><span class="p">{</span><span class="ss">client_id: </span><span class="no">CLIENT_ID</span><span class="p">,</span> <span class="ss">client_secret: </span><span class="no">CLIENT_SECRET</span><span class="p">})</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">panoptes</span><span class="p">.</span><span class="nf">connection</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s1">'/me'</span><span class="p">)</span>
<span class="n">auth</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="nf">env</span><span class="p">.</span><span class="nf">request_headers</span><span class="p">[</span><span class="s2">"Authorization"</span><span class="p">]</span>
<span class="n">token</span> <span class="o">=</span> <span class="n">auth</span><span class="p">.</span><span class="nf">gsub</span><span class="p">(</span><span class="sr">/Bearer (.*)/</span><span class="p">,</span> <span class="s2">"</span><span class="se">\\</span><span class="s2">1"</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">token</span>
</code></pre></div>
<p>There are multiple ways to get an OAuth bearer token from our authentication system, we support most of the OAuth grant types to convert credentials to a token. However our system restricts non-vetted apps from using particular flows, e.g. password (mostly to stop phishing sites harvesting our user credentials).</p>

<p>The easiest to get started with is to use OAuth and the client credentials OAuth flow. To do this you will need to <a href="https://signin.zooniverse.org/oauth/applications/new">create an OAuth application with our system</a>.</p>

<p>Complete the form like the image below:
<img src="images/authentication/oauth_application.png" alt="OAuth Application" /></p>

<p>Tick all the resource scopes you&#39;ll be needing access to (start with all). Once setup note your client ID and secret for that app and that this app will be linked to your user account. It is <strong>imperative that you do not share the OAuth application secret</strong> as it can gain access to your Zooniverse account as if you were using the system.</p>

<p>There are other OAuth flows that can be used to get bearer tokens, please <a href="mailto:contact@zooniverse.org">email contact@zooniverse.org</a> to find out more.</p>
<h3 id='setup-postman-to-use-the-client-credentials-to-get-api-bearer-tokens'>Setup postman to use the client credentials to get API bearer tokens</h3>
<p>I won’t go into details on how to setup postman, there are lots of <a href="https://www.getpostman.com/docs/v6/">docs that help with this</a>.</p>

<p>You will need to setup a request to <code>https://signin.zooniverse.org/api/me</code> and under the authorization tab, select OAuth 2.0, and click the ‘Get New Access Token’ button. Complete the forms like the images below:</p>

<p><img src="images/authentication/initial_postman_req.png" alt="initial postman req" /></p>

<p><img src="images/authentication/get_new_access_token.png" alt="get new access token" /></p>

<ol>
<li>Token name is used to identify the token in Postman, this is for your reference only</li>
<li>Select the grant type to be ‘Client Credentials’</li>
<li>Use the client ID from the OAuth application you setup at signin.zooniverse.org</li>
<li>Same for client secret</li>
<li>Scope is a lowercase, space separated list of all OAuth application scopes you selected at signin.zooniverse.org, in the image above for my testing app i only ticked user scope.

<ul>
<li>All scopes - user project group collection classification subject medium organization  translation public</li>
</ul></li>
<li>Client authentication - send credentials in the request body</li>
<li>Press ‘Request Token’ button

<ul>
<li>If you can’t get a token and get a 422 response from the API ensure your scopes match exactly the list you selected for the app at signin.zooniverse.org earlier.</li>
<li>Use the Postman console to debug the requests</li>
</ul></li>
<li>If successful you’ll see a screen with an access token, scroll down and press the ‘Use Token’ button</li>
</ol>

<p><img src="images/authentication/access_token.png" alt="access token" /></p>

<p>Now the request will have the authentication token setup for use in postman.</p>

<p><img src="images/authentication/req_with_access_token.png" alt="req with access token" /></p>
<h3 id='add-extra-zooniverse-api-headers-for-each-request'>Add extra Zooniverse API headers for each request</h3>
<p>The Zooniverse API requires some extra headers to access the API endpoints, specifically setting the Accept and Content-Type headers.</p>

<p>Click on the ‘Headers’ tab and set the following header key value pairs as per the image below.</p>

<ol>
<li><code>Accept: application/vnd.api+json; version=1</code></li>
<li><code>Content-Type: application/json</code></li>
</ol>

<p><img src="images/authentication/api_headers.png" alt="add extra req headers" /></p>

<p>Without the above extra headers any response to API endpoints will return a HTTP 404 response status code.</p>
<h3 id='ready-to-send-requests-to-the-zooniverse-api'>Ready to send requests to the Zooniverse API</h3>
<p>The request is now ready to run, click the ‘Send’ button to send the request to the Zooniverse API, you should see the response show up.</p>

<p>This response is to the https://signin.zooniverse.org/api/me endpoint and requests the information about the owner of the bearer token, i.e. ‘me’.</p>

<p><img src="images/authentication/api_me_response.png" alt="api me response" /></p>
<h3 id='debugging-requests-and-responses'>Debugging requests and responses</h3>
<p>Again any request failures can be debugged using the postman console, here you get a detailed view each request / response that postman is sending.</p>

<p><img src="images/authentication/postman_console.png" alt="postman console" /></p>

<p>Some common failure modes:
1. Can’t get a bearer token from OAuth application credentials
  + Ensure the app id and secret match exactly what is showing in https://signin.zoonivese.org/oauth/applications
  + Ensure the scopes match exactly, OAuth app has user selected, scopes should be ‘user public’
0. Get a 404 on /api/* endpoints request
  + Ensure the extra Accept and content-type headers are set on the requests, without them the API won’t route requests properly.</p>
<h1 id='json-api-conventions'>JSON-API conventions</h1><h2 id='resource-s-themselves'>Resource(s) themselves</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>If you request a resource, you will find the results under a top-level key with
the plural name of the resource. So for instance, if you a single specific user,
you will find the user record under the <code>users</code> key.</p>

<aside class="notice">
Resources will always be returned an array. If you requested a single specific
resource (usually by passing in its <code>id</code>), you can rely on this being an array
with at most one element.
</aside>
<h2 id='links'>Links</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"projects"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="err">...</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"workflows"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">123</span><span class="p">],</span><span class="w">
      </span><span class="s2">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/projects/123/avatar"</span><span class="p">,</span><span class="w"> </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"avatars"</span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"projects.workflows"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/workflows?project_id={projects.id}"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"workflows"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"projects.avatar"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/projects/{projects.id}/avatar"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"media"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Any resource returned will specify a list of linked resources under its <code>links</code>
attribute. Definition on where to request those linked resources can be found
under the top-level <code>links</code> key (as opposed to the per-resource <code>links</code>).</p>
<h2 id='pagination'>Pagination</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
  </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"page_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
  </span><span class="s2">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
  </span><span class="s2">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"first_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/users?page_size=2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"previous_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/users?page=14page_size=2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"next_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/users?page=2&amp;page_size=2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/users?page=14&amp;page_size=2"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>When requesting a list of resources, rather than a single resource, the
response will include a top-level <code>meta</code> key. For performance reasons, results
are returned in pages. You can use the data under the <code>meta</code> key to
automatically navigate these paginated results.</p>
<h2 id='including-linked-resources'>Including linked resources</h2>
<p>TODO</p>
<h1 id='headers'>Headers</h1>
<p>Panoptes API sometime requires specific headers to be sent as part of requests.</p>

<p>All requests should set <code>Accept: application/vnd.api+json; version=1</code>. You will receive a <code>404 Not Found</code> without it.</p>

<p>All PUT and POST requests should set <code>Content-Type: application/vnd.api+json; version=1</code> or <code>Content-Type: application/json</code>. You will receive a <code>415 Unsupported Media Type</code> without one of those two headers.</p>

<p>All PUT and DELETE requests should set the <code>If-Match</code> header to the value of the <code>ETag</code> header of the request where the resource was originally retrieved. You will receive a <code>428 Precondition Required</code> without the header and a <code>412 Precondition Failed</code> if the etags do not match.</p>
<h1 id='aggregations'>Aggregations</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"aggregations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/aggregations/1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-05-22T22:52:59.173Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-05-22T22:52:59.181Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"557ebcfa3c29496787336bfbd7c4d856"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9c963646-e7cd-4c5a-8749-c97086d416bd"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"workflow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"aggregations.workflow"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/workflows/{aggregations.workflow}"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"workflows"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"aggregations.user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/users/{aggregations.user}"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A single Aggregation resource object. This represents the automated aggregation by the external service by a <em>user</em> of a single <em>workflow</em> via the online Aggregation service.</p>

<p>An Aggregation has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>workflow_id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>project_id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>created_at</td>
<td>string</td>
<td>read-only</td>
</tr>
<tr>
<td>updated_at</td>
<td>string</td>
<td>read-only</td>
</tr>
<tr>
<td>user_id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>uuid</td>
<td>string</td>
<td>The unique identifier of the aggregation run, used in the URLs of output files</td>
</tr>
<tr>
<td>task_id</td>
<td>string</td>
<td>The Celery task ID, used to query the status of the backgrounded task on the aggregation service</td>
</tr>
<tr>
<td>status</td>
<td>integer</td>
<td>created, pending, completed, failed</td>
</tr>
</tbody></table>
<h2 id='list-aggregations'>List aggregations</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/aggregations</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>Only lists aggregations where the active user has has edit permissions on the related project.</p>

<p>Any of the scopes may be further filtered using the <em>project_id</em>, <em>workflow_id</em>
and <em>user_id</em> parameters.</p>
<h3 id='parameters'>Parameters</h3>
<ul>
<li>page (optional, integer) ... index of the page to retrieve, 1 is default</li>
<li>page_size (optional, integer) ... number of items on a page. 20 is default</li>
<li>sort (optional, string) ... fields to sort by. updated_at is default</li>
<li>project_id (optional, integer) ... only retrieve aggregations for a specific project</li>
<li>workflow_id (optional, integer) ... only retrieve aggregations for a specific workflow</li>
<li>user_id (optional, integer) ... only retrieve aggregations for a specific user</li>
<li>include (optional, string) ... comma separated list of linked resources to return in the response</li>
</ul>
<h2 id='retrieve-a-single-aggregation'>Retrieve a single Aggregation</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/aggregations/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>A User may only retrieve Aggregations they have permission to access.</p>
<h3 id='parameters-2'>Parameters</h3>
<ul>
<li><code>id</code> (required, integer) ... integer id of the resource to retrieve</li>
</ul>
<h2 id='create-an-aggregation-post'>Create an Aggregation [POST]</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/aggregations</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"aggregations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"workflow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Creating a new Aggregation will initiate a new batch aggregation run.
A call out to the Aggregation Service is made and the newly created Aggregation resource
is updated with the Aggregation Service&#39;s Celery background task ID so that its status can be checked.</p>
<h2 id='edit-a-single-aggregation-put'>Edit a single Aggregation [PUT]</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/aggregations/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"aggregations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"557ebcfa3c29496787336bfbd7c4d856"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Aggregations are updated by the Aggregation Service when a run has succeeded or failed. A successful run
will send a request to this endpoint and update the UUID generated by that run. This UUID is a 32-character
lowercase hexadecimal string and can be used to construct the URL to download that run&#39;s output data.</p>

<p>The status can also be updated via this route (see the <em>aggregations</em> model) and can be the only attribute included.</p>
<h2 id='destroy-a-single-aggregation-delete'>Destroy a single Aggregation [DELETE]</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/Aggregations/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>A user may destroy an Aggregation by ID if they have destroy permissions for the parent project.</p>
<h1 id='classifications'>Classifications</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"classifications"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1001</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-24T22:24:32Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-24T22:24:32Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"completed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-24T22:20:21Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"finished_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-24T22:24:31Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user_agent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cURL"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user_language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"es_MX"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"workflow_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11.12"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"task"</span><span class="p">:</span><span class="w"> </span><span class="s2">"task-1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">10.4</span><span class="p">,</span><span class="w"> </span><span class="mf">12.4</span><span class="p">,</span><span class="w"> </span><span class="mf">13.2</span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subjects"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"10"</span><span class="p">],</span><span class="w">
            </span><span class="s2">"workflow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"81"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"project"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"classifications.user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/users/{classifications.user}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"classifications"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"classifications.project"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/projects/{classifications.project}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"projects"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"classifications.workflow"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/workflows/{classification.workflow}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"workflows"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"classifications.subject"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subjects/{classifications.subjects}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subjects"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>A single Classification resource object. This represents a <em>user&#39;s</em>
responses to a <em>workflow&#39;s</em> questions about a <em>subject</em>.</p>

<p>A classification has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>created_at</td>
<td>string</td>
<td>read-only</td>
</tr>
<tr>
<td>updated_at</td>
<td>string</td>
<td>read-only</td>
</tr>
<tr>
<td>completed</td>
<td>string</td>
<td>read-only</td>
</tr>
<tr>
<td>metadata</td>
<td>hash</td>
<td></td>
</tr>
<tr>
<td>gold_standard</td>
<td>boolean</td>
<td></td>
</tr>
<tr>
<td>annotations</td>
<td>array(hash)</td>
<td></td>
</tr>
</tbody></table>

<p>Annotations is an array of maps of the form <code>{ &quot;task&quot;: &quot;task_key&quot;,
&quot;value&quot;: &quot;question answer&quot; }</code>. Metadata contains additional information about a
classification including:</p>

<ul>
<li>started_at</li>
<li>finished_at</li>
<li>user_agent</li>
<li>workflow_version</li>
<li>user_language</li>
</ul>
<h2 id='list-classifications'>List classifications</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/classifications</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>Only lists classifications the active user has made or projects the user has edit permissions for.</p>

<p>Classifications have special collection routes that indicate the scope you would like to retrieve.</p>

<p>Possible options are:</p>

<ul>
<li><code>/api/classifications/</code> default, will fetch the current user&#39;s past complete classifications.</li>
<li><code>/api/classifications/incomplete</code> will fetch the current user&#39;s past incomplete classifications.</li>
<li><code>/api/classifications/project</code> will fetch classifications from projects a user has &#39;edit&#39; permissions for</li>
<li><code>/api/classifications/gold_standard</code> will fetch gold standard classifications for all marked workflows</li>
</ul>

<p>Any of the scopes may be further filtered using the <em>project_id</em>, <em>workflow_id</em>
and <em>user_group_id</em> parameters.</p>
<h3 id='parameters'>Parameters</h3>
<ul>
<li>page (optional, integer) ... index of the collection page, 1 is default</li>
<li>page_size (optional, integer) ... number of items on a page. 20 is default</li>
<li>sort (optional, string) ... fields to sort collection by. updated_at is default</li>
<li>project_id (optional, integer) ... only retrieve classifications for a specific project</li>
<li>workflow_id (optional, integer) ... only retrieve classifications for a specific workflow</li>
<li>user_group_id (optional, integer) ... only retrieve classifications for a specific user group</li>
<li>include (optional, string) ... comma separated list of linked resources to return with the collection</li>
<li>last_id (optional, integer) ... only classifications with ids greater than <code>last_id</code> will be returned (<code>/project</code> only, requires project_id)</li>
</ul>

<aside class="notice">
Please note that due to the cost of the page count queries on the
classifications table we are not returning the page counts for
this end point, please use the previous and next hrefs to page into the data.
</aside>
<h2 id='retrieve-a-single-classification'>Retrieve a single Classification</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/classifications/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>A User may retrieve any classification, irrespective of the complete status.</p>
<h3 id='parameters-2'>Parameters</h3>
<ul>
<li><code>id</code> (required, integer) ... integer id of the resource to retrieve</li>
</ul>
<h2 id='create-a-classification-post'>Create a Classification [POST]</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/classifications</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"classifications"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"completed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-24T22:20:21Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"finished_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-24T22:24:31Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user_agent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cURL"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user_language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"es_MX"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"workflow_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11.12"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"task"</span><span class="p">:</span><span class="w"> </span><span class="s2">"task-name"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Any type: string, hash, array, etc"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"subjects"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"11"</span><span class="p">],</span><span class="w">
            </span><span class="s2">"workflow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"81"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"project"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Create a classification by providing a JSON-API formatted object, that
must include <em>metadata</em>, <em>annotations</em> and a <em>links</em> hash. Optionally, it
may include the <em>completed</em> field, which if not included defaults to true.
The completed field is used to store half-completed classifications, so the user
can later continue from where they stopped.</p>

<p>The <em>links</em> hash must contain a <em>subjects</em> hash, a <em>project</em> and a <em>workflow</em>.
The <em>metadata</em> hash must contain all the keys specified in the example.
Please note, the <em>workflow_version</em> should be the value returned from the
specific workflow representation. The annotations array must be in the
format specified in the example, i.e. an array of objects, containing a <em>task</em> and a <em>value</em>.
The <em>task</em> can be anything and must not necessarily align with the tasks of the workflow
(even though that is generally not advised).</p>
<h2 id='edit-a-single-classification-put'>Edit a single Classification [PUT]</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/classifications/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"classifications"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"task"</span><span class="p">:</span><span class="w"> </span><span class="s2">"task-1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">10.4</span><span class="p">,</span><span class="w"> </span><span class="mf">12.4</span><span class="p">,</span><span class="w"> </span><span class="mf">13.2</span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"task"</span><span class="p">:</span><span class="w"> </span><span class="s2">"workflow-2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fishy"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"completed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A User may modify an incomplete classification. It should be marked as
completed when done.</p>

<p>The <em>annotations</em> attributes must be returned as a full representation
of the annotations array.</p>
<h2 id='destroy-a-single-classification-delete'>Destroy a single Classification [DELETE]</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/classifications/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>A User may delete an incomplete classification.</p>
<h1 id='collection-preferences'>Collection preferences</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"collection_preferences"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"942"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preferences"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"display"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grid"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-20T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-21T08:22:22Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"user"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"collection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"collection_preferences.user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/user/{collection_preferences.user}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"collection_preferences.collection"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/collections/{collection_preferences.collection}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"collections"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A Collection Preference resource captures a user&#39;s settings for a
particular collection.</p>

<p>It has the following attributes:</p>

<ul>
<li>id</li>
<li>created_at</li>
<li>updated_at</li>
<li>preferences</li>
</ul>

<p><em>id</em>, <em>created_at</em>, and <em>updated_at</em> are set the by the API. Collection
 preferences are only visible to user they belong to.</p>
<h2 id='list-collection-preferences'>List collection preferences</h2>
<p>All collections add a meta attribute hash containing paging information.</p>
<h3 id='parameters'>Parameters</h3>
<ul>
<li>page (optional, integer) ... the index of the page to retrieve default is 1</li>
<li>page_size (optional, integer) ... number of items to include on a page default is 20</li>
<li>sort (optional, string) ... field to sort by</li>
<li>user_id (optional, integer) ... user_id to see preferences for</li>
<li>collection_id (optional, integer) ... collection_id to see preferences for</li>
<li>include (optional, string) ... comma separated list of linked resources to load</li>
</ul>
<h2 id='retrieve-a-single-collectionpreference-get'>Retrieve a single CollectionPreference [GET]</h2><h3 id='parameters-2'>Parameters</h3>
<ul>
<li>include (optional, string) ... comma separated list of linked resources to load</li>
</ul>
<h2 id='edit-a-collectionpreference-put'>Edit a CollectionPreference [PUT]</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/collection_preferences/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"collection_preferences"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"preferences"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"receive_updates"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Only the owning user may edit a Collection Preference resource. The preferences field may be edited. Editing the preferences field requires a full representation of the preferences object to be sent.</p>
<h2 id='create-a-collectionpreference-post'>Create a CollectionPreference [POST]</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/collection_preferences</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"collection_preferences"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"preferences"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"display"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grid"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"collection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Creating a Collection Preference requires only a link to a collection. Optionally an object of settings for preferences may be included.</p>

<p>Since a user can only create, read, or modify their own preferences the currently logged in user is always set as the linked user on creation.</p>
<h1 id='collectionrole'>CollectionRole</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"collection_roles.owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/{collection_roles.owner.href}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"owners"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"collection_roles.collection"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/collections/{collection_roles.collection}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"collections"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"collection_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"page_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"first_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/collection_roles?page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/collection_roles?page=14page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/collection_roles?page=2&amp;page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/collection_roles?page=14&amp;page_size=2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"collection_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"942"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"collaborator"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-20T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-21T08:22:22Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"collection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Owner 4"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_groups"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_groups/4"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"949"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"viewer"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-20T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-21T08:22:22Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"collection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"81"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Owner 1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users/1"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Resources related to Roles for <em>Panoptes Collections</em>
A Collection Role resources contains an array of roles assigned to a user
for a particular collection.</p>

<p>It has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>created_at</td>
<td>string</td>
<td>read-only</td>
</tr>
<tr>
<td>updated_at</td>
<td>string</td>
<td>read-only</td>
</tr>
<tr>
<td>roles</td>
<td>array(string)</td>
<td></td>
</tr>
</tbody></table>

<p><em>id</em>, <em>created_at</em>, and <em>updated_at</em> are set the by the API. Collection
roles are visible to the collection owner and the user given roles.</p>
<h3 id='collection-role-types'>Collection Role Types</h3>
<ul>
<li><code>collaborator</code> - full access to edit or delete a collection</li>
<li><code>viewer</code> - may view a private collection</li>
</ul>
<h2 id='list-all-collection-roles'>List All Collection Roles</h2>
<p>A Collection of CollectionRole resources.</p>

<p>All collections add a meta attribute hash containing paging
information.</p>

<p>CollectionRoles are returned as an array under <em>collection_roles</em>.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/collection_roles</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>page (optional, integer) ... the index of the page to retrieve default is 1</li>
<li>page_size (optional, integer) ... number of items to include on a page default is 20</li>
<li>sort (optional, string) ... field to sort by</li>
<li>user_id (optional, integer) ... user_id to see roles for</li>
<li>collection_id (optional, integer) ... collection_id to see roles for</li>
<li>include (optional, string) ... comma separate list of linked resources to load</li>
</ul></li>
</ul>
<h2 id='retrieve-a-single-collectionrole'>Retrieve a single CollectionRole</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/collection_roles/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... integer identifier of the collection role resource</li>
<li>include (optional, string) ... comma separate list of linked resources to load</li>
</ul></li>
</ul>
<h2 id='create-a-collectionrole'>Create a CollectionRole</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="err">
</span><span class="nf">POST</span> <span class="nn">/api/collection_roles/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"collection_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"collaborator"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"collection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"842"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Creating a Collection Role resource requires a link to a user and a
collection. You may also include an array of roles.</p>
<h2 id='edit-a-collectionrole'>Edit a CollectionRole</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/collection_roles/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"collection_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"viewer"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A user with permissions to edit a collection may modify roles for other
users in the collection. A user without edit permissions may not edit
their own roles.</p>

<p>Editing requires sending a full representation of the roles array.</p>
<h1 id='collections'>Collections</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"collections.subjects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subjects{?collection_id=collections.id}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subjects"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"collections"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-20T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-20T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"flowers"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lots of Pretty flowers"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"default_subject_src"</span><span class="p">:</span><span class="w"> </span><span class="s2">"panoptes-uploads.zooniverse.org/production/subject_location/hash.jpeg"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Owner 10"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/users/10"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A collection is a user curated set of subjects for a particular
project.</p>

<p>It has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>display_name</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>string</td>
<td>read-only</td>
</tr>
<tr>
<td>updated_at</td>
<td>string</td>
<td>read-only</td>
</tr>
<tr>
<td>default_subject</td>
<td>id</td>
<td></td>
</tr>
</tbody></table>

<p><em>id</em>, <em>created_at</em>, and <em>updated_at</em> are set by the API.</p>
<h2 id='list-all-collections'>List all collections</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/collections</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>page (optional, integer) ... the index of the page to retrieve default is 1</li>
<li>page_size (optional, integer) ... number of items to include on a page default is 20</li>
<li>sort (optional, string) ... field to sort by</li>
<li>owner (optional, string) ... string name of either a user or user group to filter by</li>
</ul></li>
</ul>

<p>All collections add a meta attribute hash containing paging
information. <br/>
Collections are returned as an array under <em>collections</em>.</p>
<h2 id='retrieve-a-single-collection'>Retrieve a single collection</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/projects/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... integer id of the resource to retrieve</li>
<li>display_name (string) ... project name filter</li>
</ul></li>
</ul>
<h2 id='create-a-collection'>Create a Collection</h2>
<p>A Collection only needs a <em>display name</em> to be created. By default
name will be the underscored and downcased version of <em>display_name</em>,
and the current user will be set as the owner.</p>

<p>Optionally a create request may include name, a link to an
owner, and links to subjects.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/collections</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"collections"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flowers"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Owner 10"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_groups"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/user_groups/10"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='edit-a-collection'>Edit a Collection</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/collections/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"collections"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flower_power"</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A user may edit a collection they are the owner of or have edit
permissions for. A user may edit a collection&#39;s name, or display_name,
and may also send a full representation of a collections subject links
or a single subject id to set the default subject.</p>

<p>Sending subject links through a put is not recommend, especially if a
collection has many subjects.</p>

<p>Removing subjects from a collection does not destroy the subject record.</p>
<h2 id='destroy-a-collection'>Destroy a Collection</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/collections/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>A user who is the owner of a collection or who has destroy permissions
for a collection, may delete it.</p>
<h2 id='add-subject-links'>Add subject links</h2>
<p>Add subjects to a collection.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/collections/123/links/subjects</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"subjects"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A user is permitted to add subject if they are the collection owner or
have edit permissions.</p>
<h2 id='remove-subject-links'>Remove subject links</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/collections/123/links/subjects/1,2</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>Remove subjects from a collection.</p>

<p>A user is permitted to remove subjects if they are the collection
owner or have edit permissions.</p>

<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... id of collection to edit</li>
<li>link_ids (required, string) ... comma separated list of ids to remove</li>
</ul></li>
</ul>
<h2 id='add-default-subject-link'>Add default subject link</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/collections/123/links/default_subject</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"default_subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Links a default subject to a collection. This subject&#39;s first media
location URL will be included in the serialized collection and used
as the thumbnail. Update this attribute with <code>null</code> to use the first
subject in the linked list instead.</p>

<p>A user is permitted to add a default subject if they are the collection
owner or have edit permissions.</p>
<h1 id='memberships'>Memberships</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"memberships.user_group"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/user_groups/{memberships.user_group}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_groups"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"memberships.user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/users/{memberships.user}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"memberships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"page_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"first_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/memberships?page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/memberships?page=14page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/memberships?page=2&amp;page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/memberships?page=14&amp;page_size=2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"memberships"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-20T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-20T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"group_admin"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user_groups"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-20T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-20T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inactive"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user_groups"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A membership represents and user&#39;s status in a group and their role
within the group.</p>

<p>It has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>created_at</td>
<td>string</td>
<td>read-only</td>
</tr>
<tr>
<td>updated_at</td>
<td>string</td>
<td>read-only</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>roles</td>
<td>array(string)</td>
<td></td>
</tr>
</tbody></table>

<p><em>id</em>, <em>created_at</em>, and <em>update_at</em> are assigned by the API.</p>

<ul>
<li>Membership <em>state</em> can be:

<ul>
<li>&quot;invited&quot;</li>
<li>&quot;active&quot;</li>
<li>&quot;inactive&quot;</li>
</ul></li>
</ul>

<p>When a user is added to a group, their state is set to &quot;invited&quot;. After they take
action to join the group their state becomes &quot;active&quot;. A User who leaves
a group has their state set to &quot;inactive&quot;.</p>
<h2 id='list-all-memberships'>List All Memberships</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/memberships</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>page (optional, integer) ... index of the page to retrieve 1 by default</li>
<li>page_size (optional, integer) ... number of items per page 20 by default</li>
<li>sort (optional, string) ... field to sort by, id by default</li>
<li>user_id (optional, integer) ... filter list to memberships for a user</li>
<li>user_group_id (optional, integer) ... filter list to memberships for a user group</li>
</ul></li>
</ul>

<p>All memberships add a meta attribute hash containing paging
information.</p>

<p>Memberships are returned as an array under <em>memberships</em>.</p>
<h2 id='retreive-a-membership'>Retreive a Membership</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/memberships/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... integer id of the resource to retrieve</li>
</ul></li>
</ul>
<h2 id='create-a-membership'>Create a Membership</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/memberships</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"memberships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"join_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"decafbad"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user_group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11
        }
    }
}
</span></code></pre></div>
<p>A membership creation request must include a link to a user and to a
user_group, although currently the linked user must always be the current user.
The request must also include the secret join_token of the user_group as an attribute
of the membership (although this property is not persisted).</p>
<h2 id='edit-a-membership'>Edit a Membership</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/memberships/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"memberships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inactive"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A user can ordinary only change their membership state. A user with
user group edit permissions can change the membership&#39;s roles.</p>
<h2 id='destroy-a-membership'>Destroy a Membership</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/memberships/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>Destroying a membership only sets the state to inactive. A user may
destroy their own memberships and a user with edit permission in a
user group may destroy membership for that group.</p>
<h1 id='organizations'>Organizations</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Federation of Projects"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Every project in the galaxy"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"introduction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello and welcome to the UFP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Federation of Projects"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/organizations/5"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"primary_language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"listed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"listed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user/slug"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://twitter.com/UFP"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Federation of Twitter"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"twitter.com/"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"announcement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Oh Gosh!"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"organization_contents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"5"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"organization_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"9999"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"projects"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"811067"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"meredithspalmer"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/users/811067"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"pages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"5"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/organizations/5/avatar"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"avatars"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27687087"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"background"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/organizations/5/background"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"backgrounds"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30335947"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"attached_images"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/organizations/5/attached_images"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"attached_images"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"organizations.attached_images"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/organizations/{organizations.id}/attached_images"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"media"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"organizations.organization_contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/organization_contents?organization_id={organizations.id}"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"organization_contents"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"organizations.organization_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/organization_roles?organization_id={organizations.id}"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"organization_roles"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"organizations.projects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/projects?organization_id={organizations.id}"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"projects"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"organizations.pages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/organizations/{organizations.id}/pages"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"organization_pages"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"organizations.owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/{organizations.owner.href}"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"owners"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"organizations.avatar"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/organizations/{organizations.id}/avatar"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"media"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"organizations.background"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/organizations/{organizations.id}/background"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"media"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"page_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/organizations"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"previous_href"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"next_href"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/organizations"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>An Organization is a collection of projects that are related by dicipline, research group</p>

<p>It has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>display_name</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>introduction</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>slug</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>primary_language</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>listed_at</td>
<td>datetime</td>
<td></td>
</tr>
<tr>
<td>activated_state</td>
<td>integer</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
<tr>
<td>updated_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
<tr>
<td>urls</td>
<td>jsonb</td>
<td></td>
</tr>
<tr>
<td>listed</td>
<td>boolean</td>
<td></td>
</tr>
<tr>
<td>categories</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>available_languages</td>
<td>array(string)</td>
<td></td>
</tr>
<tr>
<td>background</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>avatar</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>
<h2 id='list-all-organizations'>List All Organizations</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/organizations</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>page (optional, integer) ... the index of the page to retrieve default is 1</li>
<li>page_size (optional, integer) ... number of items to include on a page default is 20</li>
<li>sort (optional, string) ... field to sort by</li>
<li>owner (optional, string) ... string owner name of either a user or a user group to filter by.</li>
<li>include (optional, string) ... comma separated list of linked resources to include in the response</li>
</ul></li>
</ul>

<p>Response a <em>meta</em> attribute hash containing
paging information.</p>

<p>Organizations are returned as an array under the <em>organizations</em> key.</p>
<h2 id='retrieve-a-single-organization'>Retrieve a single Organization</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/organizations/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... integer id of the resource to retrieve</li>
<li>include (optional, string) ... comma separated list of linked resources to include in the response</li>
<li>display_name (optional, string)...name filter</li>
<li>listed (boolean) ... publicly visible</li>
</ul></li>
</ul>
<h2 id='create-a-organization'>Create a Organization</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/organizations</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"Organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United Federation of Projects"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lots o' Projects"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"primary_language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"projects"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires at least a <em>display_name</em>, <em>description</em> and primary_language*.</p>
<h2 id='edit-a-single-organization'>Edit a single Organization</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/organizations/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Klingon Empire"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"workflows"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1"</span><span class="p">],</span><span class="w">
          </span><span class="s2">"subject_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"10"</span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A User must be the owner of a Organization or have update
permissions to edit the resource.</p>

<p>Setting has may links through a PUT, while supported, is not
recommended. Instead, use the link endpoints explained below.</p>
<h2 id='destroy-a-single-organization'>Destroy a single Organization</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/organizations/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>A user may destroy a Organization they own or have destroy permissions for.</p>
<h2 id='add-organization-links'>Add Organization Links</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/organizations/123/links/projects</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"projects"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The body key must match the link_type parameter.</p>

<ul>
<li>Parameters

<ul>
<li>id (required, integer) - the id of the project to add</li>
<li>link_type (required, string)
the name of the link to edit

<ul>
<li>Members

<ul>
<li><code>projects</code></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<h2 id='destroy-a-link'>Destroy a Link</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/organizations/123/links/projects/1,2</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>The recommended way to destroy Organization links.
Will destroy the comma separated list of link ids for the given link
type. </p>

<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... the id of the project to modify</li>
<li>link_type (required, string)
the name of the link to edit

<ul>
<li>Members

<ul>
<li><code>projects</code></li>
</ul></li>
</ul></li>
<li>link_ids (required, string) ... comma separated list of ids to destroy</li>
</ul></li>
</ul>
<h1 id='project-preferences'>Project Preferences</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"project_preferences.user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/user/{project_preferences.user}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"project_preferences.project"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/projects/{project_preferences.project}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"projects"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"project_preferences"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"page_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"first_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/project_preferences?page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/project_preferences?page=14page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/project_preferences?page=2&amp;page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/project_preferences?page=14&amp;page_size=2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"project_preferences"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"942"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email_communication"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preferences"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"tutorial"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-20T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-21T08:22:22Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"user"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"project"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"949"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email_communication"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preferences"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"tutorial"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-20T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-21T08:22:22Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"user"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"33"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"project"</span><span class="p">:</span><span class="w"> </span><span class="s2">"81"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A Project Preference resource captures a user&#39;s settings for a
particular project.</p>

<p>It has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
<tr>
<td>updated_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
<tr>
<td>preferences</td>
<td>jsonb</td>
<td></td>
</tr>
<tr>
<td>email_communication</td>
<td>boolean</td>
<td></td>
</tr>
</tbody></table>

<p><em>id</em>, <em>created_at</em>, and <em>updated_at</em> are set the by the API. Project
 preferences are only visible to user they belong to.</p>
<h2 id='list-all-projectpreferences'>List all ProjectPreferences</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/project_preferences</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>page (optional, integer) ... the index of the page to retrieve default is 1</li>
<li>page_size (optional, integer) ... number of items to include on a page default is 20</li>
<li>sort (optional, string) ... field to sort by</li>
<li>user_id (optional, integer) ... user_id to see preferences for</li>
<li>project_id (optional, integer) ... project_id to see preferences for</li>
<li>include (optional, string) ... comma separated list of linked resources to load</li>
</ul></li>
</ul>

<p>Responses will have meta attribute hash containing paging information.</p>

<p>ProjectPreferences are returned as an array under <em>project_preferences</em>.</p>
<h2 id='retrieve-a-single-projectpreference'>Retrieve a single ProjectPreference</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/project_preferences/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... integer identifier of resource</li>
<li>include (optional, string) ... comma separated list of linked resources to load</li>
</ul></li>
</ul>
<h2 id='create-a-projectpreference'>Create a ProjectPreference</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/project_preferences</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"project_preferences"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"email_communication"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preferences"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"tutorial"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"project"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Creating a Project Preference requires only a link to a
project. Optionally a boolean flag for email_communication or a hash
of settings for preferences may be included.</p>

<p>Since a user can only create, read, or modify their own preferences
the currently logged in user is always set as the linked user on
creation.</p>
<h2 id='edit-a-projectpreference'>Edit a ProjectPreference</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/project_preferences/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"project_preferences"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"preferences"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"mini_course"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Only the owning user may edit a Project Preference resource. The
email_communication field and the preferences field may be edited.</p>

<p>Editing the preferences field requires a full representation of the
preferences hash to be sent.</p>
<h2 id='edit-projectpreferences-settings'>Edit ProjectPreferences Settings</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/project_preferencess?user_id=1&amp;project_id=1</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"project_preferences"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"workflow_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Project owners may edit the settings attribute of any user&#39;s Project Preferences associated
with that project (and only that project). You need to provide the &quot;user_id&quot; and the &quot;project_id&quot;
to specify the resource to apply the settings update to. Note: in the settings payload the
&quot;workflow_id&quot; is the only accepted parameter.</p>

<ul>
<li>Parameters

<ul>
<li>user_id (string) ... The id of the user whose preference needs updating</li>
<li>project_id (string) ... The id of the project the preference setting should be scoped to</li>
</ul></li>
</ul>
<h1 id='project-roles'>Project Roles</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"project_roles.owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/{project_roles.owner.href}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"owners"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"project_roles.project"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/projects/{project_roles.project}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"projects"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"project_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"page_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"first_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/project_roles?page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/project_roles?page=14page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/project_roles?page=2&amp;page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/project_roles?page=14&amp;page_size=2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"project_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"942"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"collaborator"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-20T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-21T08:22:22Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"project"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Owner 3"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users/3"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"949"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"tester"</span><span class="p">,</span><span class="w"> </span><span class="s2">"translator"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-20T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-21T08:22:22Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"project"</span><span class="p">:</span><span class="w"> </span><span class="s2">"81"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Owner 33"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users/33"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A Project Role resources contains an array of roles assigned to a user
for a particular project</p>

<p>It has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>roles</td>
<td>array(string)</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
<tr>
<td>updated_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
</tbody></table>

<p><em>id</em>, <em>created_at</em>, and <em>updated_at</em> are set the by the API. Project
roles are visible to the project owner and the user given roles.</p>

<ul>
<li><strong>Roles for a project may be:</strong>

<ul>
<li>collaborator - full access to edit or delete a project</li>
<li>tester - Able to see a private project</li>
<li>scientist - Able to moderate project Talk and see a private project</li>
<li>moderator - Able to moderate project Talk and see a private project</li>
<li>translator - Able to create new and edit project and workflow translations</li>
</ul></li>
</ul>
<h2 id='list-all-projectroles'>List all ProjectRoles</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/project_roles</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>page (optional, integer) ... the index of the page to retrieve default is 1</li>
<li>page_size (optional, integer) ... number of items to include on a page default is 20</li>
<li>sort (optional, string) ... field to sort by</li>
<li>user_id (optional, integer) ... user_id to see roles for</li>
<li>project_id (optional, integer) ... project_id to see roles for</li>
<li>include (optional, string) ... comma separate list of linked resources to load</li>
</ul></li>
</ul>

<p>Response will have a meta attribute hash containing paging
information.</p>

<p>ProjectRoles are returned as an array under <em>project_roles</em>.</p>
<h2 id='retrieve-a-single-projectrole'>Retrieve a single ProjectRole</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/project_roles/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... integer identifier of the project role resource</li>
<li>include (optional, string) ... comma separate list of linked resources to load</li>
</ul></li>
</ul>
<h2 id='create-a-projectrole'>Create a ProjectRole</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/project_roles</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"project_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"collaborator"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"project"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Creating a Project Role resource requires a link to a user and a
project. You may also include an array of roles.</p>
<h2 id='edit-a-projectrole'>Edit a ProjectRole</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/project_roles/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"project_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"tester"</span><span class="p">,</span><span class="w"> </span><span class="s2">"translator"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A user with permissions to edit a project may modify roles for other
users in the project. A user without edit permissions may not edit
their own roles.</p>

<p>Editing requires sending a full representation of the roles array.</p>
<h1 id='projects'>Projects</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"projects"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Galaxy Zoo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"classifications_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subjects_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-24T10:42:21Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-24T10:42:21Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"available_languages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"en"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Galaxy Zoo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A Project ..."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"guide"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="s2">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://something.example.com/delorean.jpg"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"explanation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"our ride"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"team_members"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doc Brown"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"twitter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"thatsmydelorean"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"insitution"</span><span class="p">:</span><span class="w"> </span><span class="err">nil</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"science_case"</span><span class="p">:</span><span class="w"> </span><span class="s2">"88mph + 1.21 GW = 1955"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"introduction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asdfasdf"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"background_image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://test.host/12312asd.jp2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"private"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"faq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This project uses.."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We found amazing things"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"education_content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Educator content goes here"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"retired_subjects_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"option_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="s2">"beta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"approved"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"live"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Owner 2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/users/2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"projects.subjects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subjects?project_id={projects.id}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subjects"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"projects.classifications"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/classifications?project_id={projects.id}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"classifications"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"projects.workflows"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/workflows?project_id={projects.id}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"workflows"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"projects.subject_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subject_sets/{projects.subject_sets}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subject_sets"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"projects.owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/{projects.owner.href}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"owners"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A Project is a collection of subjects and task workflows that a
volunteer performs on subjects. The project also holds supplementary
text describing the tasks volunteers perform.</p>

<p>It has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>display_name</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>classifications_count</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>subjects_count</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>created_at</td>
<td>string</td>
<td>read-only</td>
</tr>
<tr>
<td>updated_at</td>
<td>string</td>
<td>read-only</td>
</tr>
<tr>
<td>available_languages</td>
<td>array(string)</td>
<td></td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>guide</td>
<td>array(hash)</td>
<td></td>
</tr>
<tr>
<td>team_members</td>
<td>array(hash)</td>
<td></td>
</tr>
<tr>
<td>science_case</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>introduction</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>avatar</td>
<td>??</td>
<td></td>
</tr>
<tr>
<td>background_image</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>private</td>
<td>boolean</td>
<td></td>
</tr>
<tr>
<td>faq</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>result</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>education_content</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>retired_subjects_count</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>configuration</td>
<td>hash</td>
<td></td>
</tr>
<tr>
<td>beta</td>
<td>boolean</td>
<td></td>
</tr>
<tr>
<td>approved</td>
<td>boolean</td>
<td></td>
</tr>
<tr>
<td>live</td>
<td>boolean</td>
<td></td>
</tr>
</tbody></table>

<p><em>id</em>, <em>created_at</em>, <em>updated_at</em>, <em>user_count</em>, and
<em>classifications_count</em> are set by the API.</p>
<h3 id='project-links'>Project Links</h3>
<ul>
<li><code>workflows</code></li>
<li><code>subject_sets</code> - If you add a link to a subject set that does not already belong
to the project, Panoptes will make a duplicate of that subject set in this
project. Note that you can only link subject sets of other projects that you
are a collaborator on.</li>
<li>subjects (read-only)</li>
<li>classifications (read-only)</li>
<li>owner (read-only)</li>
</ul>
<h2 id='list-all-projects'>List All Projects</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/projects</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>display_name (string) ... project name filter</li>
<li>approved (boolean) ... approved state filter</li>
<li>beta (boolean) ... beta state filter</li>
<li>live (boolean) ... live state filter</li>
<li>page (optional, integer) ... the index of the page to retrieve default is 1</li>
<li>page_size (optional, integer) ... number of items to include on a page default is 20</li>
<li>sort (optional, string) ... field to sort by</li>
<li>owner (optional, string) ... string owner name of either a user or a user group to filter by.</li>
<li>include (optional, string) ... comma separated list of linked resources to include in the response</li>
</ul></li>
</ul>
<h2 id='retrieve-a-single-project'>Retrieve a single Project</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/projects/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... integer id of the resource to retrieve</li>
<li>display_name (string) ... project name filter</li>
<li>approved (boolean) ... approved state filter</li>
<li>beta (boolean) ... beta state filter</li>
<li>live (boolean) ... live state filter</li>
</ul></li>
</ul>
<h2 id='create-a-project'>Create a Project</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/projects</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"projects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"galaxy_zoo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A doubleplus good project"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"primary_language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"private"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"workflows"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2"</span><span class="p">]</span><span class="w">
            </span><span class="s2">"owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Owner 2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_groups"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_groups/10"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires at least a <em>display_name</em>, <em>description</em>, <em>primary_language</em> and <em>private</em>. Workflows
and SubjectSets added as links will be copied and their new ids
returned.</p>
<h2 id='edit-a-single-project'>Edit a single Project</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/projects/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"projects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Galaxy Zooooooooo!"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"workflows"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="s2">"subject_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"10"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A User must be the owner of a project or have update
permissions to edit the resource. Workflow and Subject Set links may be
edited. Removing a subject set or workflow causes the subject set or
workflow to be destroyed. Adding a workflow or subject set causes
the original to be copied and a new id to be returned.</p>

<p>Setting has may links through a PUT, while supported, is not
recommended. Instead, use the link endpoints explained below.</p>
<h2 id='destroy-a-single-project'>Destroy a single Project</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/projects/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>A user may destroy a project they own or have destroy permissions for.</p>

<p>Response will be an HTTP 204.</p>
<h1 id='subjectsetimports'>SubjectSetImports</h1><h2 id='feature-description'>Feature Description</h2>
<p>This resource is useful when a researcher has a large batch to add. The upload process goes as follows:</p>

<ol>
<li>A researcher uploads image files into a web accessible location (e.g. s3 bucket, azure blob store, etc).</li>
<li>She also creates a manifest file (format described below) and uploads the manifest to a web accessible location.

<ul>
<li>The manifest file describes <a href="https://help.zooniverse.org/getting-started/glossary/">&#39;subjects&#39;</a>, which is the Zooniverse term for something that is to be classified.</li>
<li>A subject is made up of:

<ul>
<li>a unique external ID (used to track the subject from your organization)</li>
<li>one or more URLs that host media files e.g. image, video, audio.</li>
<li>metadata described as key-value pairs.</li>
</ul></li>
</ul></li>
<li>The researcher will then send the manifest payload to the Zooniverse API programatically

<ul>
<li><a href="https://github.com/zooniverse/panoptes-python-notebook/blob/master/examples/subject_set_import_vera_rubin.ipynb">Python example of how to send a manifest</a></li>
<li>The repsonse to this manifest upload will be a <code>SubjectSetImport</code> API resource.</li>
</ul></li>
<li>This calls the Zooniverse API which enqueues a background job on the Zooniverse servers.

<ul>
<li>In the background, the Zooniverse&#39;s systems process the downloaded manifest file, creating subjects in the specified subject set.</li>
</ul></li>
<li>The <code>SubjectSetImport</code> resource API end point response can be polled for information on the progress and state of an import (see python example above or &#39;Retrieve a single import&#39; below).</li>
</ol>
<h2 id='zooniverse-api-feature-description'>Zooniverse API Feature Description</h2><h3 id='creating-a-new-subject-set-import'>Creating a new subject set import</h3><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/subject_set_imports</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"subject_set_imports"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="s2">"source_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://path.to/some/manifest.csv"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
           </span><span class="s2">"subject_set"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
       </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns a SubjectSetImport resource with an ID. This resource can be polled in order to get the status of the import.</p>
<h3 id='retrieve-a-single-import'>Retrieve a single import</h3><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/subject_set_imports/1</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... integer id of the resource to retrieve</li>
</ul></li>
</ul>
<h2 id='manifest-csv-format'>Manifest CSV format</h2><div class="highlight"><pre class="highlight plaintext"><code>external_id,location:1,location:2,metadata:size,metadata:cuteness
1,https://placekitten.com/200/300.jpg,https://placekitten.com/200/100.jpg,small,cute
2,https://placekitten.com/400/900.jpg,https://placekitten.com/500/100.jpg,large,cute
</code></pre></div>
<p>The manifest.csv file is contains one row per subject. See the example to the right. It is expected to have
the following columns:</p>

<ul>
<li><code>external_id</code> - Zooniverse uses this to deduplicate/upsert existing subjects, so that
it&#39;s possible to reimport a manifest into a subject set.</li>
<li><p><code>location:</code> - One or more columns that begin with <code>location:</code> (including the colon), followed by any
sequence of characters. The values of cells in this column are URLs pointing
to the uploaded image files in the S3 bucket. Multiple &quot;location:&quot; columns are
supported (obviously the value after the colon needs to be unique, but is
otherwise ignored). Supported mimetypes currently are:</p>

<ul>
<li>image/jpeg</li>
<li>image/png</li>
<li>image/gif</li>
<li>image/svg+xml</li>
<li>audio/mpeg</li>
<li>audio/mp3</li>
<li>audio/mp4</li>
<li>audio/x-m4a</li>
<li>video/* (Depends on browser support)</li>
<li>text/plain</li>
</ul></li>
<li><p><code>metadata:</code> - Zero or more columns that begin with <code>metadata:</code> (including the colon), followed by
the key of the specific metadata in this column.</p></li>
</ul>
<h1 id='setmembersubjects'>SetMemberSubjects</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"set_member_subjects.subject"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subjects/{set_member_subjects.subject}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subjects"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"set_member_subjects.subject_set"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subject_sets/{set_member_subjects.subject_set}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subject_sets"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"set_member_subjects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"page_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"first_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/set_member_subjects?page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/set_member_subjects?page=14page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/set_member_subjects?page=2&amp;page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/set_member_subjects?page=14&amp;page_size=2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"set_member_subjects"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1023"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-20T00:15:47Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-30T10:20:32Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"priority"</span><span class="p">:</span><span class="w"> </span><span class="mf">101231.1231</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1231"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subject_set"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1024"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-20T00:15:47Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-30T10:20:32Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"retired"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"priority"</span><span class="p">:</span><span class="w"> </span><span class="mf">1231.1231</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1232"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subject_set"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A Set Member Subject resource contains the state of a subject that is
included in a resource.</p>

<p>It has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>priority</td>
<td>float</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
<tr>
<td>updated_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
</tbody></table>

<p><em>id</em>, <em>created_at</em>, and <em>updated_at</em> are set by the API server.</p>
<h2 id='list-all-setmembersubjects'>List all SetMemberSubjects</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/set_member_subjects</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>page (optional, integer) ... the index of the page to retrieve default is 1</li>
<li>page_size (optional, integer) ... number of items to include on a page default is 20</li>
<li>subject_id (optional, integer) ... id of subject to see set_member_subjects for</li>
<li>subject_set_id (optional, integer) ... id of subject_set to see set_member_subjects for</li>
<li>include (optional, string) ... comma separated list of linked resources to load</li>
</ul></li>
</ul>

<p>Response will contain a meta attribute hash containing paging information.</p>

<p>SetMemberSubjects are returned as an array under <em>set_member_subjects</em>.</p>
<h2 id='retrieve-a-single-setmembersubject'>Retrieve a Single SetMemberSubject</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/set_member_subjects/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... integer identifier for the resource</li>
<li>include (optional, string) ... comma separated list of linked resources to load</li>
</ul></li>
</ul>
<h2 id='create-a-setmembersubject'>Create a SetMemberSubject</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/set_member_subjects</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"set_member_subjects: {
        "</span><span class="err">links</span><span class="s2">": {
            "</span><span class="err">subject</span><span class="s2">": "</span><span class="mi">12031</span><span class="s2">",
            "</span><span class="err">subject_set</span><span class="s2">": "</span><span class="mi">10</span><span class="s2">"
        }
    }
}
</span></code></pre></div>
<p>A SetMemberSubject may be created by a user that can see the Subject
they wish to link to and can edit the project the SubjectSet belongs
to.</p>

<p>A SetMemberSubject requires links be provided to a Subject and a
SubjectSet. Optionally, the create request may include a state and a
priority. The state will be &#39;active&#39; by default and the priority will
be null by default.</p>
<h2 id='edit-a-setmembersubject'>Edit a SetMemberSubject</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/set_member_subjects/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"set_member_subjects: {
        "</span><span class="err">state</span><span class="s2">": "</span><span class="err">inactive</span><span class="s2">"
    }
}
</span></code></pre></div>
<p>A user with edit permissions for the project a SetMemberSubject&#39;s
SubjectSet belongs to may edit the <em>state</em> and <em>priority</em> attributes.</p>
<h2 id='destroy-a-setmembersubject'>Destroy a SetMemberSubject</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/set_member_subjects/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>A user with edit permissions for the project a SetMemberSubject&#39;s
Subject belongs to may destroy a SetMemberSubject resource. This
removes the linked Subject form the linked SubjectSet</p>
<h1 id='subjectsets'>SubjectSets</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"subject_sets.workflows"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/workflows?subject_set_id={subject_sets.id}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"workflows"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"subject_sets.subjects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subjects{?subject_set_id=subject_sets.id}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subjects"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"subject_sets.set_member_subjects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/set_member_subjects{?subject_set_id=subject_sets.id}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"set_member_subjects"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"subject_sets.project"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/project/{subject_sets.project}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"projects"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"subject_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"page_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"first_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subject_sets?page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subject_sets?page=14page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subject_sets?page=2&amp;page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subject_sets?page=14&amp;page_size=2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"subject_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Weird Looking Galaxies"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"things"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-02-13T10:11:34Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-02-13T10:11:34Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"set_member_subject_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"project"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"workflow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boring Looking Galaxies"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"things"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-02-13T10:11:34Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-02-13T10:11:34Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"set_member_subject_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"project"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"workflow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Subject Sets represent collections of Subjects that are paired with a
workflow of questions to be answered. A SubjectSet belongs to one
Workflow, while a single Workflow may have many SubjectSets.</p>

<p>A SubjectSet has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>display_name</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>metadata</td>
<td>jsonb</td>
<td></td>
</tr>
<tr>
<td>set_member_subjects_count</td>
<td>integer</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
<tr>
<td>updated_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
</tbody></table>

<p>All attributes except display_name are set by the API</p>
<h2 id='list-all-subject-sets'>List all Subject Sets</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/subject_sets</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>page (optional, integer) ... index of the page to retrieve 1 by default</li>
<li>page_size (optional, integer) ... number of items per page 20 by default</li>
<li>sort (optional, string) ... field to sort by, id by default</li>
<li>project_id (optional, integer) ... filter by linked project</li>
<li>workflow_id (optional, integer) ... filter by linked workflow</li>
<li>include (optional, string) ... comma separated list of linked resources to include in the response</li>
</ul></li>
</ul>

<p>Response contains a meta attribute hash containing paging
information.</p>

<p>Subject Sets are returned as an array under <em>subject_sets</em>.</p>
<h2 id='retrieve-a-single-subject-set'>Retrieve a single Subject Set</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/subject_sets/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... integer id of the subject_set to retrieve</li>
<li>include (optional, string) ... comma separated list of linked resources to include in the response</li>
</ul></li>
</ul>
<h2 id='create-a-subject-set'>Create a Subject Set</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/subject_sets</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"subject_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A Group of Interesting Subjects"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"things"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"project"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"workflows"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"47"</span><span class="p">],</span><span class="w">
            </span><span class="s2">"subjects"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"234"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1243"</span><span class="p">,</span><span class="w"> </span><span class="s2">"8023"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A subject set must supply a display_name and a link to a project. Optionally,
it may include links to subjects and a single workflow.</p>

<p>Instead of a list of subjects a SubjectSet may include a link to a
Collection which will import the collection&#39;s subjects into a new
SubjectSet.</p>
<h2 id='edit-a-single-subject-set'>Edit a single Subject Set</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/subject_sets/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"subject_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Normal Galaxies"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"subjects"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w"> </span><span class="s2">"10"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A user may only edit a subject if they edit permissions for the parent
project. The display_name attributes and links to workflows and subjects are
editable. Editing links requires a full representation of the new set
of links, but does not destroy unlinked resources.</p>

<p>This is NOT the recommended way to manage linked subjects.</p>
<h2 id='destroy-a-subject-set'>Destroy a Subject Set</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/subject_sets/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>A user may only destroy a subject set if they have destroy permissions
for the subject set&#39;s project.</p>
<h2 id='subject-set-links'>Subject Set Links</h2>
<p>Allows the addition of links to subjects to a subject
set object without needing to send a full representation of the linked
relationship.</p>

<p><strong>This is the recommended way to managed linked subjects.</strong></p>
<h2 id='add-subject-set-link'>Add Subject Set Link</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/subject_sets/123/links/subjects</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"subjects"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w"> </span><span class="s2">"11"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... the id of the Subject Set to modify</li>
<li>link_type (required, string) ... the relationship to modify must be the same as the supplied body key
Only Subjects links may be edited.</li>
</ul></li>
</ul>
<h2 id='destroy-subject-set-links'>Destroy Subject Set Links</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/subject_sets/123/links/subjects/1,2,3</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>Allows links to be removed without sending a full representation of the
linked relationship.</p>

<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... the id of the Subject Set to modify</li>
<li>link_type (required, string) ... the relationship to modify</li>
<li>link_ids (required, integer) ... comma separated list of ids to remove</li>
</ul></li>
</ul>

<p>Will only remove the link. This operation does not destroy the linked object.</p>
<h1 id='subjectworkflowstatuses'>SubjectWorkflowStatuses</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"SubjectWorkflowStatuses.workflow"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/workflows/{subject_workflow_statuses.workflow}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"workflows"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"SubjectWorkflowStatus.subject"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subjects/{subject_workflow_statuses.subject}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subjects"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"collection_preferences"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"page_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"first_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subject_workflow_statuses?page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subject_workflow_statuses?page=2&amp;page_size=2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"subject_workflow_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-20T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-21T08:22:22Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"classifications_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"retired_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-21T08:22:22Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"retirement_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"consensus"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"workflow"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-21T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-22T08:22:22Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"classifications_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"retired_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-22T08:22:22Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"retirement_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blank"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"workflow"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A SubjectWorkflowStatus resource collates the status of a subject in a workflow.
This status includes the classification count and the retirement state and reason.</p>

<p>It has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>classifications_count</td>
<td>integer</td>
<td></td>
</tr>
<tr>
<td>retired_at</td>
<td>datetime</td>
<td></td>
</tr>
<tr>
<td>retirement_reason</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
<tr>
<td>updated_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
</tbody></table>

<p><em>id</em>, <em>created_at</em>, and <em>updated_at</em> are set the by the API.</p>

<p>SubjectWorkflowStatuses are
only visible to users with rights on the workflow&#39;s associated project.</p>
<h2 id='list-all-subjectworkflowstatuses'>List all SubjectWorkflowStatuses</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/subject_workflow_statuses</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>page (optional, integer) ... the index of the page to retrieve default is 1</li>
<li>page_size (optional, integer) ... number of items to include on a page default is 20</li>
<li>workflow_id (optional, integer) ... workflow to see SubjectWorkflowStatuses for</li>
<li>subject_id (optional, integer) ... subject_id to see SubjectWorkflowStatuses for</li>
<li>include (optional, string) ... comma separated list of linked resources to load</li>
</ul></li>
</ul>

<p>Response will have a meta attribute hash containing paging
information.</p>

<p>SubjectWorkflowStatuses are returned as an array under <em>subject_workflow_statuses</em>.</p>
<h2 id='retrieve-a-single-subjectworkflowstatus'>Retrieve a single SubjectWorkflowStatus</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/subject_workflow_statuses/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... integer identifier of resource</li>
<li>include (optional, string) ... comma separated list of linked resources to load</li>
</ul></li>
</ul>
<h1 id='subjects'>Subjects</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"subjects.project"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/projects/subjects.project"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"projects"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"subjects.subject_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subject_sets/subjects.subject_sets"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subject_sets"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"subjects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
                </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="s2">"page_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
                </span><span class="s2">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
                </span><span class="s2">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="s2">"first_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subjects?page_size=2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"previous_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subjects?page=14page_size=2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"next_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subjects?page=2&amp;page_size=2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subjects?page=14&amp;page_size=2"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"subjects"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"zooniverse_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AGFS0001231"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-24T10:42:21Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-24T10:42:21Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"locations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="s2">"image/jpeg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://s3.amazonaws.com/subjects/1.png"</span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"lens_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50mm"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"project"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
                </span><span class="s2">"subject_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1"</span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"zooniverse_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AGFS0001232"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-24T10:44:21Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-24T10:44:21Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"locations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="s2">"image/jpeg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://s3.amazonaws.com/subjects/2.png"</span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"lens_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50mm"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"project"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
                </span><span class="s2">"subject_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1"</span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A single Subject object. A Subject is a resource that describe a
piece of media to be classified including metadata about the object.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>zooniverse_id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>locations</td>
<td>array(hash)</td>
<td></td>
</tr>
<tr>
<td>metadata</td>
<td>hash</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
<tr>
<td>updated_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
</tbody></table>

<p><em>id</em>, <em>zooniverse_id</em>, <em>created_at</em>, and <em>updated_at</em> are assigned by
the API.</p>
<h2 id='list-subjects'>List Subjects</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/subjects</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>page (optional, integer) ... the index of the page to retrieve default is 1</li>
<li>page_size (optional, integer) ... number of items to include on a page default is 20</li>
<li>sort (optional, string) ... field to sort by</li>
<li>workflow_id (optional, integer) ... filter to subjects belonging to a specific workflow</li>
<li>subject_set_id (optional, integer) ... return subjects belonging to the identified subject_set</li>
</ul></li>
</ul>

<p>Response will have a <em>meta</em> attribute hash containing paging information.</p>

<p>Subjects are returned as an array under the <em>subjects</em> key.</p>
<h2 id='retrieve-a-single-subject'>Retrieve a single Subject</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/subjects/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... integer id of the subject resource</li>
</ul></li>
</ul>
<h2 id='create-a-subject'>Create a Subject</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/subjects</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"subjects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"locations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"image/png"</span><span class="p">,</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="s2">"video/webm"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"video/mp4"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"lens_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50mm"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"project"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A <em>locations</em> attribute and a project link are required.</p>

<p>To have the Zooniverse host your media resources the <em>locations</em> array
should have the mime-types of the subject&#39;s associated media,
e.g <code>&quot;locations&quot;:[&quot;image/png&quot;, &quot;image/jpeg&quot;, &quot;image/png&quot;]</code>,
note the locations mime types are stored in order.</p>

<p>The create response will contain signed panoptesuploads blob urls the client may make a PUT
request containing the media to. The signed urls will be valid for 20 minutes.
Please take the order of the returned panoptesuploads urls into account when PUT&#39;ing
local media resources to the remote location.</p>

<p>To use your own hosted media resources the <em>locations</em> array
should be comprised of objects that represent the mime-type and the hosted URL
of the subject&#39;s associated media,
e.g. <code>&quot;locations&quot;:[
{&quot;image/png&quot;: &quot;https://your.s3_account.com/subjects/1.png&quot;},
{&quot;image/jpeg&quot;: &quot;https://your.s3_account.com/subjects/1.jpg&quot;}
]</code>.</p>

<p>The <em>metadata</em> attribute is optional.</p>
<h2 id='edit-a-single-subject'>Edit a single Subject</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/subjects/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"subjects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"locations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"image/png"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Users are permitted to edit subjects belonging to projects a user
has edit permissions for. A user may not change the project of a
subject.</p>

<p>The <em>locations</em> array should have the mime-types of the subject&#39;s
associated media. The response will contain signed panoptesuploads blob urls the client
may make a PUT request containing the media to. The signed urls will
be valid for 20 minutes.</p>

<p>A request changing the <em>metadata</em> hash must contain a full
representation of the attribute.</p>
<h2 id='destroy-a-single-subject'>Destroy a single subject</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/subjects/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>Users are permitted to destroy a subjects they own or
subjects belongs to a project a user has destroy permissions for.</p>
<h2 id='subject-versions'>Subject Versions</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"versions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"page_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"first_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subjects/101/versions?page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subjects/101/versions?page=14page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subjects/101/versions/?page=2&amp;page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subjects/101/versions?page=14&amp;page_size=2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"versions"</span><span class="p">:</span><span class="w">  </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"changeset"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                </span><span class="s2">"ra"</span><span class="p">:</span><span class="w"> </span><span class="s2">"120.2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"dec"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-12.4"</span><span class="w">
            </span><span class="p">},{</span><span class="w">
                </span><span class="s2">"ra"</span><span class="p">:</span><span class="w"> </span><span class="s2">"121.1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"dec"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-11.1"</span><span class="w">
            </span><span class="p">}]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"whodunnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stuartlynn"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-20T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subject/101"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subjects"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"changeset"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                </span><span class="s2">"ra"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20.2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"dec"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.4"</span><span class="w">
            </span><span class="p">},{</span><span class="w">
                </span><span class="s2">"ra"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21.1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"dec"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11.1"</span><span class="w">
            </span><span class="p">}]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"whodunnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stuartlynn"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-20T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subject/101"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subjects"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A Subject Version resource represents a set of changes made to
a Subject resource.</p>

<p>It has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>changeset</td>
<td>jsonb</td>
<td>read-only</td>
</tr>
<tr>
<td>whodunnit</td>
<td>string</td>
<td>read-only</td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
</tbody></table>

<p><strong>It is NOT editable.</strong></p>
<h2 id='list-all-subject-versions'>List all Subject Versions</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/subjects/123/versions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>subject_id (required, integer) ... id of the subject to retreive versions for</li>
<li>page (optional, integer) ... the index of the page to retrieve default is 1</li>
<li>page_size (optional, integer) ... number of items to include on a page default is 20</li>
</ul></li>
</ul>

<p>Response will have a meta attribute hash containing paging
information.</p>

<p>Subject Versions are returned as an array under <em>versions</em>.</p>
<h2 id='retrieve-a-single-subject-version'>Retrieve a Single Subject Version</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/subjects/123/versions/2</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>subject_id (required, integer) ... id of the subject to retreive versions for</li>
<li>id (required, integer) ... integer id of the version to load</li>
</ul></li>
</ul>
<h2 id='retrieve-subjects-to-classify'>Retrieve subjects to classify</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="err">
</span><span class="nf">GET</span> <span class="nn">/api/v1/subjects/queued</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>While the normal GET on the subjects resource will return a list of subjects in a project, there is a special API for getting some subjects that need classifications: <code>GET /api/v1/subjects/queued</code>. This special API is optimized specifically for serving a selection of subjects that should be shown to the user in the classify interface.</p>

<ul>
<li>Parameters

<ul>
<li>workflow_id (required, integer) ... filter to subjects belonging to a specific workflow</li>
<li>subject_set_id (optional, integer) ... return subjects belonging to the identified subject_set, it is required when the workflow is grouped.</li>
</ul></li>
</ul>
<h1 id='usergroups'>UserGroups</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"user_groups.projects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/projects?owner={user_groups.owner_name}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"projects"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"user_groups.classifications"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/classifications?user_group_id={user_groups.id}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"classifications"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"user_groups.collections"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/collections?owner={user_groups.owner_name}"</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"collections"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"user_groups.users"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/users?user_group_id={user_groups.id}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"user_groups.memberships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/memberships?user_group_id={user_groups.id}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"memberships"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"user_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"page_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"first_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/user_groups?page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/user_groups?page=14page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/user_groups?page=2&amp;page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/user_groups?page=14&amp;page_size=2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"user_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a_cool_group"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A Cool Group"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"owner_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a_cool_group"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-11T10:11:34Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-11T00:11:34Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"classifications_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1002340"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"activated_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"stats_visibility"</span><span class="p">:</span><span class="w"> </span><span class="s2">"private_agg_only"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"memberships"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"101"</span><span class="p">,</span><span class="w"> </span><span class="s2">"102"</span><span class="p">],</span><span class="w">
            </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"10001"</span><span class="p">,</span><span class="w"> </span><span class="s2">"9102"</span><span class="p">],</span><span class="w">
            </span><span class="s2">"projects"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"10"</span><span class="p">],</span><span class="w">
            </span><span class="s2">"collections"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"11"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a_cool_gang"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A Cool Gang"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"owner_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a_cool_gang"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-10T10:41:54Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-11-11T01:21:33Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"classifications_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2341"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"activated_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"stats_visibility"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public_show_all"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"memberships"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"101"</span><span class="p">,</span><span class="w"> </span><span class="s2">"102"</span><span class="p">],</span><span class="w">
            </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"10001"</span><span class="p">,</span><span class="w"> </span><span class="s2">"9102"</span><span class="p">],</span><span class="w">
            </span><span class="s2">"projects"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"10"</span><span class="p">],</span><span class="w">
            </span><span class="s2">"collections"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"11"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A user group represents a collection of users that share ownership of
projects, collections, and classifications. Individual users within
the group can be given different levels of permissions to act on
group owned resources.</p>

<p>A User Group has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>classifications_count</td>
<td>integer</td>
<td></td>
</tr>
<tr>
<td>activated_state</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>display_name</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>stats_visibility</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
<tr>
<td>updated_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
</tbody></table>

<p><em>id</em>, <em>created_at</em>, <em>updated_at</em>, and <em>classifications_count</em> are all
 set by the API.</p>
<h2 id='stats-visibility-levels'>Stats Visibility Levels</h2>
<p>We have added Stats Visibility Levels for new stats features on User Groups. The <code>stats_visibility</code> is an enum type on the <code>user_group</code> model on Panoptes.</p>

<p><strong>Currently there are 5 Levels of Visibility.</strong></p>

<p><strong>Stats Visibility Levels (Matching number with its corresponding numeric in Panoptes):</strong></p>

<p>0) <code>private_agg_only</code> (DEFAULT) : Only members of a user group can view aggregate stats. Individual stats are ONLY viewable by ADMINS of the user group. <br/>
1)  <code>private_show_agg_and_ind</code>: Only members of a user group can view aggregate stats. Individual stats is viewable by BOTH members and admins of the user group. <br/>
2) <code>public_agg_only</code>: Anyone can view aggregate stats of the user group. Only ADMINS of the user group can view individual stats. <br/>
3) <code>public_agg_show_ind_if_member</code>: Anyone can view aggregate stats of the user group. Both members and admins of the user group can view individual stats. <br/>
4) <code>public_show_all</code>: Anyone can view aggregate stats of the user group and can view individual stats of the user group. Authentication/Authorization to view user_group stats is NOT needed.</p>
<h2 id='list-all-user-groups'>List all User Groups</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/user_groups</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>page (optional, integer) ... index of the page to retrieve 1 by default</li>
<li>page_size (optional, integer) ... number of items per page 20 by default</li>
<li>sort (optional, string) ... field to sort by, id by default</li>
<li>user_id (optional, integer) ... filter list to groups a user is part of</li>
<li>include (optional, string) ... comma separated list of linked resources to include in the response</li>
</ul></li>
</ul>

<p>Response has a meta attribute hash containing paging
information.</p>

<p>User Groups are returned as an array under <em>user_groups</em>.</p>
<h2 id='retrieve-a-single-user-group'>Retrieve a single User Group</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/user_groups/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... integer, id of the user group</li>
<li>include (optional, string) ... comma separated list of linked resources to include in the response</li>
</ul></li>
</ul>
<h2 id='create-a-user-group'>Create a User Group</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/user_groups</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"user_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A Super Grouper!"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"10"</span><span class="p">,</span><span class="w"> </span><span class="s2">"22"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A user can create new group by just giving it a name (how it appears
in a @mention and url) or display name (how it shown to other users).</p>

<p>In the case where only a display name is provided, the name will be
set to the underscored, downcased, and url escaped version of the
display name. When only a name is provided, display_name will be set
to the same string as name.</p>

<p>Optionally links to other users who will be given
memberships with the &#39;invited&#39; state.</p>
<h2 id='edit-a-single-user-group'>Edit a single User Group</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/user_groups/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"user_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A Uncool Group"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"projects"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"collections"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A user with edit permissions on a user group may edit the group&#39;s
name, display_name, or links to projects, collections and
users. Projects and Collections may only be removed. Removing a
link to a project or collection will destroy the project or
collection, removing a link to a user will set their
membership state to inactive.</p>

<p>Adding a user creates a membership link with an &#39;invited&#39;
state. Membership and Classification links cannot be modified.</p>

<p><strong>This is NOT the recommended way to modify links.</strong></p>
<h2 id='destroy-a-user-group'>Destroy a User Group</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/user_groups/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>A user may destroy a group if they have the requisite permissions. A
destroyed group and linked projects, collections, and memberships will
be placed in an &#39;inactive&#39; state.</p>
<h2 id='add-user-links'>Add user links</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/user_groups/123/links/users</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"123"</span><span class="p">,</span><span class="w"> </span><span class="s2">"23"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Only links to users may be added. Creates a membership for a user. The membership will be immediately
added, but a user won&#39;t show up in the group&#39;s links until they set
their membership to &#39;active&#39;.
Only links to users may be added.</p>
<h2 id='remove-links'>Remove links</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/user_groups/123/links/users/1,2,3</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... id of the group to be edited.</li>
<li>link_type (required, string) ... name of the link to modify</li>
<li>link_ids (required, string) ... comma separated list of ids to remove</li>
</ul></li>
</ul>

<p>Allows links to users, projects, or collections to be removed. Removed
projects and collections are deleted. Removed users have their
membership set to &#39;inactive&#39;.</p>
<h1 id='users'>Users</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-20T00:15:47Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-09-30T10:20:32Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"credited_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dr. Stuart Lynn"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stuart"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stuart"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"owner_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stuart"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stuart@zoooniverse.org"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"zooniverse_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123432"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"classifications_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"104"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"languages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"en-gb"</span><span class="p">,</span><span class="w"> </span><span class="s2">"es-mx"</span><span class="p">]</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"users.projects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/projects?owner={users.owner_name}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"projects"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"users.user_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/user_groups?user_id={users.id}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_groups"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"users.subjects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subjects?user_id={users.id}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subjects"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"users.collections"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/collections?owner={users.owner_name}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"collections"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A User is representation of the identity and contributions of a volunteer.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Integer</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>updated_at</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>credited_name</td>
<td>string</td>
<td>Publicly available name with which a volunteer will be credited on papers, posters, etc</td>
</tr>
<tr>
<td>login</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>display_name</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>The email of the user</td>
</tr>
<tr>
<td>zooniverse_id</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>classifications_count</td>
<td>integer</td>
<td>Number of classifications this user has made site-wide</td>
</tr>
<tr>
<td>languages</td>
<td>Array(String)</td>
<td>Array of language identifier string, in order from most to least preferred. Used to determine which language to show translated projects in.</td>
</tr>
</tbody></table>

<p><code>id</code>, <code>zooniverse_id</code>, <code>created_at</code>, <code>updated_at</code>, and <code>classification_count</code>
 are created and updated by the Panoptes API.</p>

<p><code>credited_name</code> is the publicly available name with which a volunteer will be
 credited on papers, posters, etc. When serialized, if an <code>@</code> character is
 found, the user&#39;s login will be returned instead for privacy reasons.</p>

<p>The <code>email</code> attribute is only available if the requesting user is an
administrator or the user resource being requested is that of the requesting
user.</p>
<h3 id='user-links'>User Links</h3>
<ul>
<li>projects</li>
<li>user_groups</li>
<li>subjects</li>
<li>collections</li>
</ul>
<h2 id='list-users'>List Users</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/users</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>Parameters:</p>

<ul>
<li>page (optional, integer) ... index of the collection page, 1 is default</li>
<li>page_size (optional, integer) ... number of items on a page. 20 is default</li>
<li>sort (optional, string) ... fields to sort collection by. id is default</li>
<li>include (optional, string) ... comma separated list of linked resources to include</li>
</ul>
<h2 id='retrieve-a-single-user'>Retrieve a single user</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/users/1</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td></td>
<td>ID of the User as an integer key</td>
</tr>
</tbody></table>
<h2 id='edit-a-single-user'>Edit a single User</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/users/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"credited_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dr. Stuart Lynn, DDS"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The currently logged in User may edit their record by sending a
partial representation of the resource including their changes. A User
cannot edit linked resources.</p>
<h2 id='destroy-a-single-user'>Destroy a single User</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/users/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre></div>
<p>The current logged in User may delete themself. This does not fully
remove the user resource; instead, it deactivates their projects
and removes personally identifying information including the
<em>credited_name</em> and <em>email</em> address.</p>

<ul>
<li>Response 204</li>
</ul>
<h1 id='workflows'>Workflows</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"workflows.subjects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subjects{?workflow_id=workflows.id}"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subjects"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"workflows.project"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/projects/{workflows.project}"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"projects"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"workflows.subject_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/subject_sets?workflow_id={workflows.id}"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subject_sets"</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"workflows"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
        </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"page_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
        </span><span class="s2">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
        </span><span class="s2">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"first_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/workflows?page_size=2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"previous_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/workflows?page=14page_size=2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"next_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/workflows?page=2&amp;page_size=2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/workflows?page=14&amp;page_size=2"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="s2">"workflows"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Find moons"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-02-13T10:11:34Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-02-13T10:11:34Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"classifications_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pairwise"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"grouped"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prioritized"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"primary_language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"es_MX"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"workflow_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"content_language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en_US"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_task"</span><span class="p">:</span><span class="w"> </span><span class="s2">"interest"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"interest"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"drawing"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Color some points"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"tools"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red"</span><span class="p">,</span><span class="w"> </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"point"</span><span class="p">,</span><span class="w"> </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"green"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Green"</span><span class="p">,</span><span class="w"> </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"point"</span><span class="p">,</span><span class="w"> </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lime"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blue"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blue"</span><span class="p">,</span><span class="w"> </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"point"</span><span class="p">,</span><span class="w"> </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blue"</span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shape"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"shape"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"multiple"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"What shape is this galaxy?"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"answers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"smooth"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smooth"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"features"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Features"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"other"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Star or artifact"</span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"roundness"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"roundness"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"single"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"How round is it?"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"answers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"very"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Very..."</span><span class="p">,</span><span class="w"> </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shape"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sorta"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"In between"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"not"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cigar shaped"</span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"project"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subject_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"10"</span><span class="p">,</span><span class="w"> </span><span class="s2">"11"</span><span class="p">,</span><span class="w"> </span><span class="s2">"12"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">},{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Find moons"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-02-13T10:11:34Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-02-13T10:11:34Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"classifications_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pairwise"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"grouped"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prioritized"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"primary_language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"es_MX"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"workflow_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"content_language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en_US"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_task"</span><span class="p">:</span><span class="w"> </span><span class="s2">"interest"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"interest"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"drawing"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Color some points"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"tools"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red"</span><span class="p">,</span><span class="w"> </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"point"</span><span class="p">,</span><span class="w"> </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"green"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Green"</span><span class="p">,</span><span class="w"> </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"point"</span><span class="p">,</span><span class="w"> </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lime"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blue"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blue"</span><span class="p">,</span><span class="w"> </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"point"</span><span class="p">,</span><span class="w"> </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blue"</span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shape"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"shape"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"multiple"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"What shape is this galaxy?"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"answers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"smooth"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smooth"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"features"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Features"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"other"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Star or artifact"</span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"roundness"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"roundness"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"single"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"How round is it?"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"answers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"very"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Very..."</span><span class="p">,</span><span class="w"> </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shape"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sorta"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"In between"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"not"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cigar shaped"</span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"project"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subject_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"10"</span><span class="p">,</span><span class="w"> </span><span class="s2">"11"</span><span class="p">,</span><span class="w"> </span><span class="s2">"12"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Workflows represent the series of questions/tasks a user will be asked
to complete for a subject. Subjects are selected from SubjectSets. A
Workflow may have many SubjectSets linked to, but a SubjectSet may
only be linked to a single Workflow.</p>

<p>A workflow has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>display_name</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>finished_at</td>
<td>datetime</td>
<td></td>
</tr>
<tr>
<td>tasks</td>
<td>jsonb</td>
<td></td>
</tr>
<tr>
<td>classifications_count</td>
<td>integer</td>
<td></td>
</tr>
<tr>
<td>pairwise</td>
<td>boolean</td>
<td></td>
</tr>
<tr>
<td>grouped</td>
<td>boolean</td>
<td></td>
</tr>
<tr>
<td>prioritized</td>
<td>boolean</td>
<td></td>
</tr>
<tr>
<td>retirement</td>
<td>jsonb</td>
<td></td>
</tr>
<tr>
<td>retired_set_member_subjects_count</td>
<td>integer</td>
<td></td>
</tr>
<tr>
<td>active</td>
<td>boolean</td>
<td></td>
</tr>
<tr>
<td>aggregation</td>
<td>jsonb</td>
<td></td>
</tr>
<tr>
<td>configuration</td>
<td>jsonb</td>
<td></td>
</tr>
<tr>
<td>completeness</td>
<td>decimal</td>
<td></td>
</tr>
<tr>
<td>primary_language</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>workflow_version</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>content_language</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
<tr>
<td>updated_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
</tbody></table>

<p><em>id</em>, <em>created_at</em>, <em>updated_at</em>, <em>workflow_version</em>, <em>content_language</em>,
and <em>classifications_count</em> are assigned by the API</p>

<p><em>finished_at</em> is set by the API to a date/time when all subjects for this workflow have been retired.</p>

<p>Three parameters: <em>grouped</em>, <em>prioritized</em>, and <em>pairwise</em> configure
how the api chooses subjects for classification. They are all false by default,
which will give a random selection of subjects from all subject_sets that
are part of a workflow. <em>grouped</em> enables selecting subjects from a specific
subject set. <em>prioritized</em> ensures that users will see subjects in a
predetermined order. <em>pairwise</em> will select two subjects at a tim for classification.</p>

<p>A workflow&#39;s <code>tasks</code> is a hash of keys to task definitions.</p>

<p>A workflow&#39;s <code>first_task</code> is a string matching the key of its first task. (The order of keys in JSON hashes is not guaranteed).</p>

<p>Each task has a <code>type</code> string of &quot;single&quot; or &quot;multiple&quot; choice, or &quot;drawing&quot;. (More task types to come, e.g. Serengeti-style filter and Sunspotter&#39;s comparison.)</p>

<p>&quot;multiple&quot; and &quot;drawing&quot; tasks have a <code>next</code> string, linking to the next task in the workflow. If this string is empty, the workflow ends. In &quot;single&quot; tasks, each answer has a <code>next</code> string, allowing branching based on the user&#39;s decisions.</p>

<p>&quot;single&quot; and &quot;multiple&quot; tasks have a <code>question</code> string, which the user must answer. Answers to the question are in an <code>answers</code> array. Each answer has a <code>label</code> string displayed to the user.</p>

<p>&quot;single&quot; and &quot;multiple&quot; tasks may define a boolean <code>required</code>, which when true will force the user to provide an answer before moving on to the next task.</p>

<p>&quot;drawing&quot; tasks have an <code>instruction</code> string telling the user how to complete the task.</p>

<p>&quot;drawing&quot; tasks have a <code>tools</code> array.</p>

<p>Each tool has a <code>label</code> shown to the user.</p>

<p>Each tool has a string <code>type</code>. Options include:</p>

<ul>
<li>point</li>
<li>ellipse</li>
<li>circle</li>
<li>line</li>
<li>rectangle</li>
<li>polygon</li>
</ul>

<p>Each tool has a string <code>color</code>, which is applied to the marks made by the tool. Any format valid as CSS can be used.</p>
<h2 id='list-all-workflows'>List All Workflows</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/workflows</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>page (optional, integer) ... the index of the page to retrieve default is 1</li>
<li>page_size (optional, integer) ... number of items to include on a page default is 20</li>
<li>sort (optional, string) ... field to sort by id by default</li>
<li>project_id (optional, integer) ... filter workflows by project id</li>
<li>include (optional, string) ... comma separated list of linked resources to load</li>
</ul></li>
</ul>

<p>Response has a <em>meta</em> attribute hash containing
paging information.</p>

<p>Workflows are returned as an array under the <em>workflows</em> key.</p>
<h2 id='retrieve-a-single-workflow'>Retrieve a single Workflow</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/workflows/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... id of the workflow</li>
<li>include (optional, string) ... comma separated list of linked resources to include in the response</li>
</ul></li>
</ul>
<h2 id='create-a-workflow'>Create a Workflow</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/workflows</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"workflows"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spot Monsters!"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tasks"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
            </span><span class="s2">"interest"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"drawing"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Color some points"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"tools"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red"</span><span class="p">,</span><span class="w"> </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"point"</span><span class="p">,</span><span class="w"> </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"red"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"green"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Green"</span><span class="p">,</span><span class="w"> </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"point"</span><span class="p">,</span><span class="w"> </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lime"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blue"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blue"</span><span class="p">,</span><span class="w"> </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"point"</span><span class="p">,</span><span class="w"> </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blue"</span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shape"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"shape"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"multiple"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"What shape is this galaxy?"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"answers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"smooth"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smooth"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"features"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Features"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"other"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Star or artifact"</span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"roundness"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"roundness"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"single"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"How round is it?"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"answers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"very"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Very..."</span><span class="p">,</span><span class="w"> </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shape"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sorta"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"In between"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"not"</span><span class="p">,</span><span class="w"> </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cigar shaped"</span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"retirement"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"criteria"</span><span class="p">:</span><span class="w"> </span><span class="s2">"classification_count"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"primary_language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-ca"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"project"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subject_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires a set of <em>tasks</em>, a <em>primary_language</em>, a <em>display_name</em>, and a
link to a <em>project</em>. Can optionally set cellect parameters <em>grouped</em>,
<em>prioritized</em>, and <em>pairwise</em> (all false by default) and links to
<em>subject_sets</em>.</p>

<p>A SubjectSet that already belongs to another workflow will be
duplicated when it is linked.</p>

<p>A Workflow may also include a <em>retirement</em> object with a <em>criteria</em>
key and an <em>options</em> key. <em>criteria</em> describes the strategy Panoptes
will use to decide when to retire subjects while <em>options</em> configures
the strategy. There are 2 valid criteria:
 1. <code>classification_count</code> will retire subjects after a target number
 of classifications are reached. You must supply an <code>options</code> hash
 with an integer <code>count</code> to specify the minimum number of classifications.
   + <code>{&quot;criteria&quot;: &quot;classification_count&quot;, &quot;options&quot;: {&quot;count&quot;: 15} }</code>
 2. <code>never_retire</code> will never retire subjects and requires an empty
 <code>options</code> hash.
   + <code>{&quot;criteria&quot;: &quot;never_retire &quot;options&quot;: {} }</code></p>

<p>If retirement is left blank Panoptes defaults to the <code>classification_count</code>
strategy with 15 classifications per subject.</p>
<h2 id='edit-a-single-workflow'>Edit a single workflow</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/workflows/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"workflows"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all new!"</span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"subject_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"8"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A user may edit a workflow if they have edit permissions for the parent
project. Editing tasks content requires a full replacement for the
field. Only the subject set link may be edited. Removing a subject_set
link doesn&#39;t destroy the subject_set.</p>

<p>This is not the recommended way to edit links. Use the subject_set
link mode documented below.</p>
<h2 id='destroy-a-single-workflow'>Destroy a single workflow</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/workflows/123</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>A user may destroy a workflow if they have destroy permissions for the
parent project.</p>
<h2 id='link-subject-set-to-workflow'>Link Subject Set to Workflow</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/workflows/123/links/subject_sets</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w"> </span><span class="s2">"subject_sets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"9"</span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>The recommended way to update links.</strong></p>

<p>Adds the posted subject sets to a workflow&#39;s links. Creates a copy of
the subject set if it belongs do a different project.</p>

<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... id of workflow to update</li>
</ul></li>
</ul>
<h2 id='destroy-workflow-39-s-subject-set-links'>Destroy Workflow&#39;s Subject Set Links</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/workflows/123/links/subject_sets/1,2,3</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p><strong>The recommended way to remove links.</strong></p>

<p>Removes workflow&#39;s links to the given subject_sets. It does not
destroy the subject set models.</p>

<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... id of workflow to update</li>
<li>subject_set_ids (required, string) ... comma separated list of ids to destroy</li>
</ul></li>
</ul>
<h2 id='workflow-versions'>Workflow Versions</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"versions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"page_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"first_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/workflows/101/versions?page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/workflows/101/versions?page=14page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/workflows/101/versions/?page=2&amp;page_size=2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/workflows/101/versions?page=14&amp;page_size=2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"versions"</span><span class="p">:</span><span class="w">  </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"changeset"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"grouped"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="kc">false</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"whodunnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stuartlynn"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-20T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/workflows/101"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"workflows"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"changeset"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"prioritized"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="kc">true</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"whodunnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stuartlynn"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-20T06:23:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"item"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/workflows/101"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"workflows"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A Workflow  Version resource represents a set of changes made to
a Workflow  resource.</p>

<p>It has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>changeset</td>
<td>hash</td>
<td>read-only</td>
</tr>
<tr>
<td>whodunnit</td>
<td>string</td>
<td>read-only</td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
</tbody></table>

<p><strong>It is NOT editable.</strong></p>
<h2 id='list-all-workflow-versions'>List All Workflow Versions</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/workflows/123/versions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>workflow_id (required, integer) ... integer id of the workflow resource</li>
<li>page (optional, integer) ... the index of the page to retrieve default is 1</li>
<li>page_size (optional, integer) ... number of items to include on a page default is 20</li>
</ul></li>
</ul>

<p>Response will have a meta attribute hash containing paging
information.</p>

<p>Workflow Versions are returned as an array under <em>versions</em>.</p>
<h2 id='retrieve-a-single-version'>Retrieve a Single Version</h2><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/workflows/123/versions/1</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>workflow_id (required, integer) ... integer id of the workflow resource</li>
<li>id (required, integer) ... integer id of the version to retrieve</li>
</ul></li>
</ul>
<h1 id='media-resources'>Media Resources</h1><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"177939"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/projects/1936/attached_images/177939"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"src"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://panoptes-uploads-staging.zooniverse.org/project_attached_image/goofy_test.png"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"content_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/png"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"media_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"project_attached_image"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"external_link"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-10-07T17:57:37.886Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">11352</span><span class="p">,</span><span class="w">
                </span><span class="s2">"filename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"goofy_test.png"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-10-07T17:57:37.886Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"linked"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/projects/1936"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1936"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"projects"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"page_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"first_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/media?id=177939"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_href"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"next_href"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/media?id=177939"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A media record is a polymorphic resource that can be associated with different types of Panoptes resources.   A media record has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>read-only</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>media type of the media record (See the <b>Media Types</b> column in the table within the <a href="#panoptes-resources-to-media-resource-types"><b>Panoptes Resources to Media Resource Types</b></a> )</td>
</tr>
<tr>
<td>linked_id</td>
<td>string</td>
<td>id of the Panoptes resource that the media record is associated to</td>
</tr>
<tr>
<td>linked_type</td>
<td>string</td>
<td>type of Panoptes resource the media record is associated to  (See the <b>Panoptes Resource</b> column entries in the table within the <a href="#panoptes-resources-to-media-resource-types"><b>Panoptes Resources to Media Resource Types</b></a> )</td>
</tr>
<tr>
<td>content_type</td>
<td>string</td>
<td>mime type of the media record (See <a href="#supported-mime-types-of-panoptes-media-records"><b>Supported Mime Types of Panoptes Media Records</b></a>)</td>
</tr>
<tr>
<td>src</td>
<td>string</td>
<td>path link to the media record</td>
</tr>
<tr>
<td>path_opts</td>
<td>hash</td>
<td></td>
</tr>
<tr>
<td>private</td>
<td>boolean</td>
<td></td>
</tr>
<tr>
<td>external_link</td>
<td>boolean</td>
<td></td>
</tr>
<tr>
<td>metadata</td>
<td>hash</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
<tr>
<td>updated_at</td>
<td>datetime</td>
<td>read-only</td>
</tr>
</tbody></table>

<p><em>id</em>, <em>created_at</em>, and <em>updated_at</em> are assigned by
the API.</p>
<h2 id='supported-mime-types-of-panoptes-media-records'>Supported Mime Types of Panoptes Media Records</h2>
<p>Supported mimetypes currently are:</p>

<ul>
<li>image/jpeg</li>
<li>image/png</li>
<li>image/gif</li>
<li>image/svg+xml</li>
<li>audio/mpeg</li>
<li>audio/mp3</li>
<li>audio/mp4</li>
<li>audio/x-m4a</li>
<li>text/plain</li>
<li>text/csv</li>
<li>video/mp4</li>
<li>application/pdf</li>
<li>application/json</li>
</ul>
<h2 id='panoptes-resources-to-media-resource-types'>Panoptes Resources to Media Resource Types</h2>
<p>Within Panoptes, Media is a polymorphic resource that can be associated with different types of Panoptes resources.</p>

<p>Panoptes resources that can have an associated media resource are the following:</p>

<table><thead>
<tr>
<th>Panoptes Resource</th>
<th>Media Types <i>(Panoptes Resource to Media Type Relation)</i></th>
</tr>
</thead><tbody>
<tr>
<td>Subjects <sup>*</sup></td>
<td><li>attached_images <i>(one to many)</i></li></td>
</tr>
<tr>
<td>Users</td>
<td><li>avatar <i>(one to one)</i></li><li>profile_header <i>(one to one) </i></li></td>
</tr>
<tr>
<td>Organizations</td>
<td><li>avatar <i>(one to one) </i></li><li>background <i>(one to one)</i></li><li>attached_images <i>(one to many)</i></li></td>
</tr>
<tr>
<td>Projects  <sup>**</sup></td>
<td><li>avatar <i>(one to one)</i></li><li>background <i>(one to one)</i></li><li>attached_images <i>(one to many)</i></li></td>
</tr>
<tr>
<td>Workflows  <sup>***</sup></td>
<td><li>attached_images <i>(one to many)</i></li></td>
</tr>
<tr>
<td>Tutorials</td>
<td><li>attached_images <i>(one to many)</i></li></td>
</tr>
<tr>
<td>Field Guides</td>
<td><li>attached_images <i>(one to many) </i></li></td>
</tr>
</tbody></table>

<p><sup>* Subjects have a media type of <code>subject_locations</code> that are created and queried from the API in a different fashion to a typical media resource pattern. </sup> <br></p>

<p><sup>** Projects have a media type of   <code>classifications_export</code>, <code>subjects_export</code>, <code>workflows_export</code>, <code>workflows_contents_export</code> that do not fall into typical media resource pattern. </sup> <br></p>

<p><sup>*** Workflows also have a media type of <code>classifications_export</code> that do not fall into typical media resource pattern. </sup> <br></p>
<h2 id='list-media-records'>List Media Records</h2>
<p>For the following examples, we will be using Subject as the example Panoptes Resource and <code>attached_images</code> as the example media type, but note that the same pattern follows for any of the listed Panoptes Resources and listed Media Types list on the <a href="#panoptes-resources-to-media-resource-types"><b>Panoptes Resources to Media Resource Types table</b></a>.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/:panoptes_resource/:panoptes_resource_id/:media_type</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="err"># (Eg. where panoptes_resource = subject,
# panoptes_resource_id = 123,
# media_type = attached_images)

</span><span class="nf">GET</span> <span class="nn">/api/subjects/123/attached_images</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>page (optional, integer) ... the index of the page to retrieve default is 1</li>
<li>page_size (optional, integer) ... number of items to include on a page default is 20</li>
</ul></li>
</ul>
<h2 id='retrieve-a-single-media-record'>Retrieve a single Media Record</h2>
<p>For the following examples, we will be using Subject as the example Panoptes Resource and <code>attached_images</code> as the example media type, but note that the same pattern follows for any of the listed Panoptes Resources and listed Media Types list on the <a href="#panoptes-resources-to-media-resource-types"><b>Panoptes Resources to Media Resource Types table</b></a>.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/:panoptes_resource/:panoptes_resource_id/:media_type/:media_id</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="err"># (Eg. where panoptes_resource = subject,
# panoptes_resource_id = 123,
# media_type = attached_images
# media_type_id = 345)

</span><span class="nf">GET</span> <span class="nn">/api/subjects/123/attached_images/345</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<ul>
<li>Parameters

<ul>
<li>id (required, integer) ... integer id of the media resource</li>
</ul></li>
</ul>
<h2 id='create-a-media-record-associated-with-a-panoptes-resource'>Create a Media Record Associated with a Panoptes Resource</h2>
<p>For the following examples, we will be using Subject as the example Panoptes Resource and <code>attached_images</code> as the example media type, but note that the same pattern follows for any of the listed Panoptes Resources and listed Media Types list on the <a href="#panoptes-resources-to-media-resource-types"><b>Panoptes Resources to Media Resource Types table</b></a>.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/:panoptes_resource/:panoptes_resource_id/:media_type</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"content_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/png"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"external_link"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"src"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your.s3_account.com/subjects/1.png"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"filename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your_image_title.png"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">606805</span><span class="p">,</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="err"># (Eg. where panoptes_resource = subject,
# panoptes_resource_id = 123,
# media_type = attached_images)

</span><span class="nf">POST</span> <span class="nn">/api/subjects/123/attached_images</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"media"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"content_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"image/png"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"filename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your_image_title.png"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">606805</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>To have the Zooniverse host your media resources, the <code>external_link</code> must be <code>false</code> and the <code>src</code> should be blank in your request body.</p>

<p>The create response will contain a signed panoptesuploads blob url that the client may make a PUT request containing the media to. <i>The signed urls will be valid for 20 minutes.</i></p>
<h2 id='destroy-a-single-media-record-associated-with-a-panoptes-resource'>Destroy a Single Media Record Associated with a Panoptes Resource</h2>
<p>For the following examples, we will be using Subject as the example Panoptes Resource and <code>attached_images</code> as the example media type, but note that the same pattern follows for any of the listed Panoptes Resources and listed Media Types list on the <a href="#panoptes-resources-to-media-resource-types"><b>Panoptes Resources to Media Resource Types table</b></a>.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/:panoptes_resource/:panoptes_resource_id/:media_type/:media_record_id</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="err"># (Eg. where panoptes_resource = subject,
# panoptes_resource_id = 123,
# media_type = attached_images
# media_record_id = 345)

</span><span class="nf">DELETE</span> <span class="nn">/api/subjects/123/attached_images/345</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/vnd.api+json; version=1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="http">http</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="javascript">javascript</a>
                <a href="#" data-language-name="ruby">ruby</a>
          </div>
      </div>
    </div>
  </body>
</html>
